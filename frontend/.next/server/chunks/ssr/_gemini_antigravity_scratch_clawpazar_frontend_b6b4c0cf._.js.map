{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/taha/.gemini/antigravity/scratch/clawpazar/frontend/components/BottomNav.tsx"],"sourcesContent":["'use client';\n\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport { Home, Search, Zap, PawPrint, User } from 'lucide-react';\n\nconst tabs = [\n    { href: '/', icon: Home, label: 'Ana Sayfa' },\n    { href: '/kesfet', icon: Search, label: 'KeÅŸfet' },\n    { href: '/sohbet', icon: PawPrint, label: 'Sat', isCenter: true },\n    { href: '/mezat', icon: Zap, label: 'Mezat' },\n    { href: '/profil', icon: User, label: 'Profil' },\n];\n\nexport function BottomNav() {\n    const pathname = usePathname();\n\n    return (\n        <nav className=\"fixed bottom-0 left-0 right-0 z-50 glass pb-safe\">\n            <div className=\"mx-auto flex max-w-lg items-center justify-around px-2 py-1.5\">\n                {tabs.map((tab) => {\n                    const isActive = tab.href === '/'\n                        ? pathname === '/'\n                        : pathname === tab.href || pathname?.startsWith(tab.href + '/');\n                    const Icon = tab.icon;\n\n                    if (tab.isCenter) {\n                        return (\n                            <Link\n                                key=\"center\"\n                                href={tab.href}\n                                className=\"flex -mt-6 h-[56px] w-[56px] items-center justify-center rounded-full neon-btn animate-neon-pulse transition-transform active:scale-90 vhs-glitch\"\n                            >\n                                <Icon className=\"w-6 h-6 text-white icon-neon\" strokeWidth={2.5} />\n                            </Link>\n                        );\n                    }\n\n                    return (\n                        <Link\n                            key={tab.href + tab.label}\n                            href={tab.href}\n                            className={`flex flex-col items-center gap-0.5 px-3 py-2 transition-all duration-200 group ${isActive\n                                ? 'text-[var(--neon-cyan)]'\n                                : 'text-[var(--color-text-muted)] hover:text-[var(--color-text-secondary)]'\n                                }`}\n                        >\n                            <Icon\n                                className={`w-5 h-5 transition-all ${isActive ? 'icon-neon' : 'group-hover:icon-neon'}`}\n                                strokeWidth={isActive ? 2.5 : 1.5}\n                            />\n                            <span className=\"text-[10px] font-medium tracking-wide\">{tab.label}</span>\n                            {isActive && (\n                                <div className=\"h-0.5 w-5 rounded-full bg-[var(--neon-cyan)] shadow-[0_0_8px_rgba(0,240,255,0.5)] mt-0.5\" />\n                            )}\n                        </Link>\n                    );\n                })}\n            </div>\n        </nav>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAJA;;;;;AAMA,MAAM,OAAO;IACT;QAAE,MAAM;QAAK,MAAM,0QAAI;QAAE,OAAO;IAAY;IAC5C;QAAE,MAAM;QAAW,MAAM,+QAAM;QAAE,OAAO;IAAS;IACjD;QAAE,MAAM;QAAW,MAAM,yRAAQ;QAAE,OAAO;QAAO,UAAU;IAAK;IAChE;QAAE,MAAM;QAAU,MAAM,sQAAG;QAAE,OAAO;IAAQ;IAC5C;QAAE,MAAM;QAAW,MAAM,yQAAI;QAAE,OAAO;IAAS;CAClD;AAEM,SAAS;IACZ,MAAM,WAAW,IAAA,gNAAW;IAE5B,qBACI,6SAAC;QAAI,WAAU;kBACX,cAAA,6SAAC;YAAI,WAAU;sBACV,KAAK,GAAG,CAAC,CAAC;gBACP,MAAM,WAAW,IAAI,IAAI,KAAK,MACxB,aAAa,MACb,aAAa,IAAI,IAAI,IAAI,UAAU,WAAW,IAAI,IAAI,GAAG;gBAC/D,MAAM,OAAO,IAAI,IAAI;gBAErB,IAAI,IAAI,QAAQ,EAAE;oBACd,qBACI,6SAAC,sOAAI;wBAED,MAAM,IAAI,IAAI;wBACd,WAAU;kCAEV,cAAA,6SAAC;4BAAK,WAAU;4BAA+B,aAAa;;;;;;uBAJxD;;;;;gBAOhB;gBAEA,qBACI,6SAAC,sOAAI;oBAED,MAAM,IAAI,IAAI;oBACd,WAAW,CAAC,+EAA+E,EAAE,WACvF,4BACA,2EACA;;sCAEN,6SAAC;4BACG,WAAW,CAAC,uBAAuB,EAAE,WAAW,cAAc,yBAAyB;4BACvF,aAAa,WAAW,MAAM;;;;;;sCAElC,6SAAC;4BAAK,WAAU;sCAAyC,IAAI,KAAK;;;;;;wBACjE,0BACG,6SAAC;4BAAI,WAAU;;;;;;;mBAbd,IAAI,IAAI,GAAG,IAAI,KAAK;;;;;YAiBrC;;;;;;;;;;;AAIhB","debugId":null}},
    {"offset": {"line": 125, "column": 0}, "map": {"version":3,"sources":["file:///Users/taha/.gemini/antigravity/scratch/clawpazar/frontend/lib/store.ts"],"sourcesContent":["// ClawPazar â€“ Zustand State Management\n// Stores: auth, auction, chat, listings\n\nimport { create } from 'zustand';\nimport type { Listing, Auction, Bid, Negotiation, AgentTask } from './api';\n\n// ============================================================\n// 1. AUTH STORE\n// ============================================================\n\ninterface AuthState {\n    userId: string | null;\n    email: string | null;\n    displayName: string | null;\n    role: 'buyer' | 'seller' | 'admin' | null;\n    token: string | null;\n    isAuthenticated: boolean;\n    login: (token: string, user: { id: string; email: string; displayName: string; role: string }) => void;\n    logout: () => void;\n}\n\nexport const useAuth = create<AuthState>((set) => ({\n    userId: null,\n    email: null,\n    displayName: null,\n    role: null,\n    token: typeof window !== 'undefined' ? localStorage.getItem('cp_token') : null,\n    isAuthenticated: typeof window !== 'undefined' ? !!localStorage.getItem('cp_token') : false,\n\n    login: (token, user) => {\n        localStorage.setItem('cp_token', token);\n        set({\n            token,\n            userId: user.id,\n            email: user.email,\n            displayName: user.displayName,\n            role: user.role as AuthState['role'],\n            isAuthenticated: true,\n        });\n    },\n\n    logout: () => {\n        localStorage.removeItem('cp_token');\n        set({\n            token: null,\n            userId: null,\n            email: null,\n            displayName: null,\n            role: null,\n            isAuthenticated: false,\n        });\n    },\n}));\n\n// ============================================================\n// 2. AUCTION STORE (real-time via WebSocket)\n// ============================================================\n\ninterface AuctionState {\n    activeAuction: Auction | null;\n    bids: Bid[];\n    isConnected: boolean;\n    setAuction: (auction: Auction) => void;\n    addBid: (bid: Bid) => void;\n    updatePrice: (price: number, endsAt: string) => void;\n    setConnected: (connected: boolean) => void;\n    reset: () => void;\n}\n\nexport const useAuction = create<AuctionState>((set) => ({\n    activeAuction: null,\n    bids: [],\n    isConnected: false,\n\n    setAuction: (auction) => set({ activeAuction: auction }),\n\n    addBid: (bid) =>\n        set((state) => ({\n            bids: [bid, ...state.bids].slice(0, 50), // keep last 50\n        })),\n\n    updatePrice: (price, endsAt) =>\n        set((state) => ({\n            activeAuction: state.activeAuction\n                ? { ...state.activeAuction, current_price: price, ends_at: endsAt }\n                : null,\n        })),\n\n    setConnected: (connected) => set({ isConnected: connected }),\n\n    reset: () => set({ activeAuction: null, bids: [], isConnected: false }),\n}));\n\n// ============================================================\n// 3. CHAT STORE (agent conversation)\n// ============================================================\n\nexport interface ChatMessage {\n    id: string;\n    role: 'user' | 'agent';\n    content: string;\n    timestamp: Date;\n    type: 'text' | 'image' | 'voice' | 'task_card' | 'listing_preview';\n    metadata?: Record<string, unknown>;\n    agentStatus?: string;\n    isStreaming?: boolean;\n}\n\ninterface ChatState {\n    messages: ChatMessage[];\n    isAgentTyping: boolean;\n    agentStatus: string | null;\n    activeTask: AgentTask | null;\n    addMessage: (msg: ChatMessage) => void;\n    addAgentReply: (msg: ChatMessage) => void; // adds msg AND clears typing\n    deleteMessage: (id: string) => void;\n    setAgentTyping: (typing: boolean, status?: string) => void;\n    setActiveTask: (task: AgentTask | null) => void;\n    setInput: (text: string) => void;\n    clearChat: () => void;\n    getMessages: () => ChatMessage[];\n    streamAgentStart: (msg: ChatMessage) => void; // start streaming placeholder\n    updateLastAgentMessage: (content: string) => void; // update streaming content\n    finalizeStream: () => void; // mark streaming done\n}\n\nexport const useChat = create<ChatState>((set, get) => ({\n    messages: [],\n    isAgentTyping: false,\n    agentStatus: null,\n    activeTask: null,\n\n    // Add message WITHOUT touching typing state (for user messages)\n    addMessage: (msg) =>\n        set((state) => ({\n            messages: [...state.messages, msg],\n        })),\n\n    // Add agent reply AND clear typing indicator in one atomic update\n    addAgentReply: (msg) =>\n        set((state) => ({\n            messages: [...state.messages, msg],\n            isAgentTyping: false,\n            agentStatus: null,\n        })),\n\n    deleteMessage: (id) =>\n        set((state) => ({\n            messages: state.messages.filter((m) => m.id !== id),\n        })),\n\n    setAgentTyping: (typing, status) =>\n        set({ isAgentTyping: typing, agentStatus: status || null }),\n\n    setActiveTask: (task) => set({ activeTask: task }),\n\n    setInput: () => { },\n\n    // Getter for accessing messages outside React render (e.g. in async functions)\n    getMessages: () => get().messages,\n\n    // Start a streaming message placeholder\n    streamAgentStart: (msg) =>\n        set((state) => ({\n            messages: [...state.messages, { ...msg, isStreaming: true }],\n            isAgentTyping: false,\n            agentStatus: null,\n        })),\n\n    // Update the last agent message content (for streaming)\n    updateLastAgentMessage: (content) =>\n        set((state) => {\n            const msgs = [...state.messages];\n            for (let i = msgs.length - 1; i >= 0; i--) {\n                if (msgs[i].role === 'agent' && msgs[i].isStreaming) {\n                    msgs[i] = { ...msgs[i], content };\n                    break;\n                }\n            }\n            return { messages: msgs };\n        }),\n\n    // Mark streaming as complete\n    finalizeStream: () =>\n        set((state) => {\n            const msgs = state.messages.map((m) =>\n                m.isStreaming ? { ...m, isStreaming: false } : m\n            );\n            return { messages: msgs, isAgentTyping: false, agentStatus: null };\n        }),\n\n    clearChat: () => set({ messages: [], isAgentTyping: false, agentStatus: null, activeTask: null }),\n}));\n\n// ============================================================\n// 4. LISTINGS STORE\n// ============================================================\n\ninterface ListingsState {\n    listings: Listing[];\n    totalCount: number;\n    currentPage: number;\n    isLoading: boolean;\n    filters: {\n        category?: string;\n        search?: string;\n        minPrice?: number;\n        maxPrice?: number;\n        city?: string;\n        sort?: string;\n    };\n    setListings: (listings: Listing[], total: number) => void;\n    appendListings: (listings: Listing[]) => void;\n    setPage: (page: number) => void;\n    setFilters: (filters: Partial<ListingsState['filters']>) => void;\n    setLoading: (loading: boolean) => void;\n}\n\nexport const useListings = create<ListingsState>((set) => ({\n    listings: [],\n    totalCount: 0,\n    currentPage: 1,\n    isLoading: false,\n    filters: {},\n\n    setListings: (listings, total) => set({ listings, totalCount: total, currentPage: 1 }),\n\n    appendListings: (newListings) =>\n        set((state) => ({\n            listings: [...state.listings, ...newListings],\n            currentPage: state.currentPage + 1,\n        })),\n\n    setPage: (page) => set({ currentPage: page }),\n\n    setFilters: (filters) =>\n        set((state) => ({\n            filters: { ...state.filters, ...filters },\n            listings: [],\n            currentPage: 1,\n        })),\n\n    setLoading: (loading) => set({ isLoading: loading }),\n}));\n\n// ============================================================\n// HELPERS\n// ============================================================\n\n/** Format price as Turkish Lira */\nexport function formatPrice(amount: number): string {\n    return new Intl.NumberFormat('tr-TR', {\n        style: 'currency',\n        currency: 'TRY',\n        minimumFractionDigits: 0,\n        maximumFractionDigits: 0,\n    }).format(amount);\n}\n\n/** Format relative time in Turkish */\nexport function formatTimeAgo(date: string | Date): string {\n    const now = new Date();\n    const then = new Date(date);\n    const diffMs = now.getTime() - then.getTime();\n    const diffMin = Math.floor(diffMs / 60000);\n    const diffHour = Math.floor(diffMs / 3600000);\n    const diffDay = Math.floor(diffMs / 86400000);\n\n    if (diffMin < 1) return 'az Ã¶nce';\n    if (diffMin < 60) return `${diffMin} dk Ã¶nce`;\n    if (diffHour < 24) return `${diffHour} sa Ã¶nce`;\n    if (diffDay < 7) return `${diffDay} gÃ¼n Ã¶nce`;\n    return then.toLocaleDateString('tr-TR', { day: 'numeric', month: 'short' });\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 346, "column": 0}, "map": {"version":3,"sources":["file:///Users/taha/.gemini/antigravity/scratch/clawpazar/frontend/components/WatermarkBadge.tsx"],"sourcesContent":["'use client';\n\ninterface WatermarkBadgeProps {\n    size?: 'sm' | 'md';\n    showTooltip?: boolean;\n}\n\nexport function WatermarkBadge({ size = 'md', showTooltip = false }: WatermarkBadgeProps) {\n    const sizeClasses = size === 'sm'\n        ? 'text-[10px] px-1.5 py-0.5 gap-0.5'\n        : 'text-xs px-2 py-1 gap-1';\n\n    return (\n        <div className=\"group relative inline-flex\">\n            <span\n                className={`inline-flex items-center rounded-full bg-violet-500/20 font-medium text-violet-300 border border-violet-500/30 backdrop-blur-sm ${sizeClasses}`}\n            >\n                <span>ðŸ¤–</span>\n                <span>AI</span>\n            </span>\n\n            {showTooltip && (\n                <div className=\"pointer-events-none absolute bottom-full left-1/2 z-50 mb-2 -translate-x-1/2 rounded-lg bg-[var(--color-surface-elevated)] px-3 py-2 text-[11px] text-[var(--color-text-secondary)] opacity-0 shadow-lg transition-opacity group-hover:opacity-100 whitespace-nowrap border border-white/5\">\n                    Yapay Zeka TarafÄ±ndan ÃœretilmiÅŸtir\n                    <div className=\"absolute -bottom-1 left-1/2 h-2 w-2 -translate-x-1/2 rotate-45 bg-[var(--color-surface-elevated)] border-r border-b border-white/5\" />\n                </div>\n            )}\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAAA;;AAOO,SAAS,eAAe,EAAE,OAAO,IAAI,EAAE,cAAc,KAAK,EAAuB;IACpF,MAAM,cAAc,SAAS,OACvB,sCACA;IAEN,qBACI,6SAAC;QAAI,WAAU;;0BACX,6SAAC;gBACG,WAAW,CAAC,gIAAgI,EAAE,aAAa;;kCAE3J,6SAAC;kCAAK;;;;;;kCACN,6SAAC;kCAAK;;;;;;;;;;;;YAGT,6BACG,6SAAC;gBAAI,WAAU;;oBAA6R;kCAExS,6SAAC;wBAAI,WAAU;;;;;;;;;;;;;;;;;;AAKnC","debugId":null}},
    {"offset": {"line": 409, "column": 0}, "map": {"version":3,"sources":["file:///Users/taha/.gemini/antigravity/scratch/clawpazar/frontend/components/ListingCard.tsx"],"sourcesContent":["'use client';\n\nimport Link from 'next/link';\nimport { motion } from 'framer-motion';\nimport { Eye, Heart, Package } from 'lucide-react';\nimport { formatPrice, formatTimeAgo } from '@/lib/store';\nimport { WatermarkBadge } from './WatermarkBadge';\n\ninterface ListingCardProps {\n    id: string;\n    title: string;\n    price: number;\n    thumbnailUrl?: string;\n    condition: string;\n    city?: string;\n    contentSource?: string;\n    storeName?: string;\n    createdAt: string;\n    favoriteCount?: number;\n    viewCount?: number;\n}\n\nconst conditionLabels: Record<string, { label: string; color: string }> = {\n    new: { label: 'SÄ±fÄ±r', color: 'bg-[var(--neon-green)]/15 text-[var(--neon-green)] border border-[var(--neon-green)]/20' },\n    like_new: { label: 'Az KullanÄ±lmÄ±ÅŸ', color: 'bg-[var(--neon-cyan)]/15 text-[var(--neon-cyan)] border border-[var(--neon-cyan)]/20' },\n    used: { label: 'KullanÄ±lmÄ±ÅŸ', color: 'bg-[var(--neon-orange)]/15 text-[var(--neon-orange)] border border-[var(--neon-orange)]/20' },\n    fair: { label: 'YÄ±pranmÄ±ÅŸ', color: 'bg-orange-500/15 text-orange-400 border border-orange-500/20' },\n    poor: { label: 'KÃ¶tÃ¼', color: 'bg-[var(--neon-pink)]/15 text-[var(--neon-pink)] border border-[var(--neon-pink)]/20' },\n};\n\nexport function ListingCard({\n    id, title, price, thumbnailUrl, condition, city,\n    contentSource, storeName, createdAt, favoriteCount, viewCount,\n}: ListingCardProps) {\n    const cond = conditionLabels[condition] || conditionLabels.used;\n\n    return (\n        <Link href={`/ilan/${id}`} className=\"group block\">\n            <motion.div\n                className=\"neon-card overflow-hidden\"\n                whileHover={{ scale: 1.02, boxShadow: '0 0 30px rgba(107, 0, 255, 0.2), 0 0 60px rgba(0, 240, 255, 0.08)' }}\n                whileTap={{ scale: 0.98 }}\n            >\n                <div className=\"relative aspect-[4/3] bg-gradient-to-br from-[var(--color-surface-elevated)] to-[var(--color-surface-base)] overflow-hidden\">\n                    {thumbnailUrl ? (\n                        <img\n                            src={thumbnailUrl}\n                            alt={title}\n                            className=\"h-full w-full object-cover transition-transform duration-500 group-hover:scale-110\"\n                            loading=\"lazy\"\n                        />\n                    ) : (\n                        <div className=\"flex h-full w-full items-center justify-center\">\n                            <Package className=\"w-10 h-10 text-[var(--color-text-muted)] icon-neon\" strokeWidth={1} />\n                        </div>\n                    )}\n\n                    <div className=\"absolute bottom-2 left-2 rounded-full bg-black/70 backdrop-blur-sm px-3 py-1 border border-[var(--neon-purple)]/20\">\n                        <span className=\"price price-md font-semibold\">{formatPrice(price)}</span>\n                    </div>\n\n                    <div className={`absolute top-2 left-2 rounded-full px-2 py-0.5 text-[10px] font-semibold ${cond.color}`}>\n                        {cond.label}\n                    </div>\n\n                    {contentSource && contentSource !== 'user' && (\n                        <div className=\"absolute top-2 right-2\">\n                            <WatermarkBadge size=\"sm\" />\n                        </div>\n                    )}\n\n                    <button\n                        onClick={(e) => { e.preventDefault(); }}\n                        className=\"absolute bottom-2 right-2 flex h-8 w-8 items-center justify-center rounded-full bg-black/50 backdrop-blur-sm border border-white/5 transition-all active:scale-90 hover:border-[var(--neon-pink)]/30 group/fav\"\n                        aria-label=\"Favorilere ekle\"\n                    >\n                        <Heart className=\"w-4 h-4 text-[var(--color-text-secondary)] group-hover/fav:text-[var(--neon-pink)] group-hover/fav:icon-neon transition-colors\" strokeWidth={1.5} />\n                    </button>\n                </div>\n\n                <div className=\"p-3\">\n                    <h3 className=\"text-sm font-medium text-[var(--color-text-primary)] line-clamp-2 leading-snug\">{title}</h3>\n\n                    <div className=\"mt-2 flex items-center justify-between text-[11px] text-[var(--color-text-muted)]\">\n                        <span>{storeName || city || ''}</span>\n                        <span>{formatTimeAgo(createdAt)}</span>\n                    </div>\n\n                    {(favoriteCount || viewCount) && (\n                        <div className=\"mt-1 flex gap-3 text-[11px] text-[var(--color-text-muted)]\">\n                            {viewCount ? <span className=\"flex items-center gap-0.5\"><Eye className=\"w-3 h-3\" strokeWidth={1.5} /> {viewCount}</span> : null}\n                            {favoriteCount ? <span className=\"flex items-center gap-0.5\"><Heart className=\"w-3 h-3\" strokeWidth={1.5} /> {favoriteCount}</span> : null}\n                        </div>\n                    )}\n                </div>\n            </motion.div>\n        </Link>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AACA;AACA;AANA;;;;;;;AAsBA,MAAM,kBAAoE;IACtE,KAAK;QAAE,OAAO;QAAS,OAAO;IAA0F;IACxH,UAAU;QAAE,OAAO;QAAkB,OAAO;IAAuF;IACnI,MAAM;QAAE,OAAO;QAAe,OAAO;IAA6F;IAClI,MAAM;QAAE,OAAO;QAAa,OAAO;IAA+D;IAClG,MAAM;QAAE,OAAO;QAAQ,OAAO;IAAuF;AACzH;AAEO,SAAS,YAAY,EACxB,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,YAAY,EAAE,SAAS,EAAE,IAAI,EAC/C,aAAa,EAAE,SAAS,EAAE,SAAS,EAAE,aAAa,EAAE,SAAS,EAC9C;IACf,MAAM,OAAO,eAAe,CAAC,UAAU,IAAI,gBAAgB,IAAI;IAE/D,qBACI,6SAAC,sOAAI;QAAC,MAAM,CAAC,MAAM,EAAE,IAAI;QAAE,WAAU;kBACjC,cAAA,6SAAC,mQAAM,CAAC,GAAG;YACP,WAAU;YACV,YAAY;gBAAE,OAAO;gBAAM,WAAW;YAAoE;YAC1G,UAAU;gBAAE,OAAO;YAAK;;8BAExB,6SAAC;oBAAI,WAAU;;wBACV,6BACG,6SAAC;4BACG,KAAK;4BACL,KAAK;4BACL,WAAU;4BACV,SAAQ;;;;;iDAGZ,6SAAC;4BAAI,WAAU;sCACX,cAAA,6SAAC,kRAAO;gCAAC,WAAU;gCAAqD,aAAa;;;;;;;;;;;sCAI7F,6SAAC;4BAAI,WAAU;sCACX,cAAA,6SAAC;gCAAK,WAAU;0CAAgC,IAAA,0LAAW,EAAC;;;;;;;;;;;sCAGhE,6SAAC;4BAAI,WAAW,CAAC,yEAAyE,EAAE,KAAK,KAAK,EAAE;sCACnG,KAAK,KAAK;;;;;;wBAGd,iBAAiB,kBAAkB,wBAChC,6SAAC;4BAAI,WAAU;sCACX,cAAA,6SAAC,8MAAc;gCAAC,MAAK;;;;;;;;;;;sCAI7B,6SAAC;4BACG,SAAS,CAAC;gCAAQ,EAAE,cAAc;4BAAI;4BACtC,WAAU;4BACV,cAAW;sCAEX,cAAA,6SAAC,4QAAK;gCAAC,WAAU;gCAAiI,aAAa;;;;;;;;;;;;;;;;;8BAIvK,6SAAC;oBAAI,WAAU;;sCACX,6SAAC;4BAAG,WAAU;sCAAkF;;;;;;sCAEhG,6SAAC;4BAAI,WAAU;;8CACX,6SAAC;8CAAM,aAAa,QAAQ;;;;;;8CAC5B,6SAAC;8CAAM,IAAA,4LAAa,EAAC;;;;;;;;;;;;wBAGxB,CAAC,iBAAiB,SAAS,mBACxB,6SAAC;4BAAI,WAAU;;gCACV,0BAAY,6SAAC;oCAAK,WAAU;;sDAA4B,6SAAC,sQAAG;4CAAC,WAAU;4CAAU,aAAa;;;;;;wCAAO;wCAAE;;;;;;2CAAoB;gCAC3H,8BAAgB,6SAAC;oCAAK,WAAU;;sDAA4B,6SAAC,4QAAK;4CAAC,WAAU;4CAAU,aAAa;;;;;;wCAAO;wCAAE;;;;;;2CAAwB;;;;;;;;;;;;;;;;;;;;;;;;AAOlK","debugId":null}},
    {"offset": {"line": 657, "column": 0}, "map": {"version":3,"sources":["file:///Users/taha/.gemini/antigravity/scratch/clawpazar/frontend/lib/api.ts"],"sourcesContent":["// ClawPazar â€“ Typed API Client\n// Wraps all 25+ backend endpoints with auth token injection\n\nconst API_BASE = process.env.NEXT_PUBLIC_API_URL || '';\n\ntype Method = 'GET' | 'POST' | 'PUT' | 'DELETE' | 'PATCH';\n\nasync function request<T>(method: Method, path: string, body?: object): Promise<T> {\n    const token = typeof window !== 'undefined'\n        ? localStorage.getItem('cp_token')\n        : null;\n\n    const res = await fetch(`${API_BASE}${path}`, {\n        method,\n        headers: {\n            'Content-Type': 'application/json',\n            ...(token ? { Authorization: `Bearer ${token}` } : {}),\n        },\n        body: body ? JSON.stringify(body) : undefined,\n    });\n\n    if (!res.ok) {\n        const err = await res.json().catch(() => ({ error: res.statusText }));\n        throw new Error(err.error || `API Error: ${res.status}`);\n    }\n\n    return res.json();\n}\n\n// ============================================================\n// LISTINGS\n// ============================================================\n\nexport const listingsApi = {\n    browse: (params?: {\n        page?: number; limit?: number; category?: string;\n        search?: string; minPrice?: number; maxPrice?: number;\n        city?: string; sort?: string;\n    }) => {\n        const qs = new URLSearchParams();\n        if (params) {\n            Object.entries(params).forEach(([k, v]) => {\n                if (v !== undefined) qs.set(k, String(v));\n            });\n        }\n        return request<{\n            listings: Listing[]; total: number; page: number; limit: number;\n        }>('GET', `/api/listings?${qs}`);\n    },\n\n    get: (id: string) =>\n        request<Listing>('GET', `/api/listings/${id}`),\n\n    create: (message: string, images?: string[], channel = 'web') =>\n        request<{ taskId: string; status: string; message: string }>(\n            'POST', '/api/listings', { message, images, channel }\n        ),\n\n    update: (id: string, data: Partial<Listing>) =>\n        request<Listing>('PUT', `/api/listings/${id}`, data),\n\n    publish: (id: string) =>\n        request<Listing>('POST', `/api/listings/${id}/publish`),\n\n    delete: (id: string) =>\n        request<{ success: boolean }>('DELETE', `/api/listings/${id}`),\n\n    semanticSearch: (embedding: number[], limit = 10) =>\n        request<Listing[]>('POST', '/api/listings/search/semantic', { embedding, limit }),\n};\n\n// ============================================================\n// AUCTIONS\n// ============================================================\n\nexport const auctionsApi = {\n    list: () =>\n        request<Auction[]>('GET', '/api/auctions'),\n\n    create: (data: {\n        listingId: string; startingPrice: number;\n        reservePrice?: number; durationMinutes: number; minBidIncrement?: number;\n    }) =>\n        request<Auction>('POST', '/api/auctions', data),\n\n    bid: (auctionId: string, amount: number) =>\n        request<Bid>('POST', `/api/auctions/${auctionId}/bid`, { amount }),\n};\n\n// ============================================================\n// NEGOTIATIONS\n// ============================================================\n\nexport const negotiationsApi = {\n    start: (listingId: string, offerAmount: number) =>\n        request<Negotiation>('POST', '/api/negotiations', { listingId, offerAmount }),\n\n    counter: (id: string, amount: number) =>\n        request<Negotiation>('POST', `/api/negotiations/${id}/counter`, { amount }),\n\n    accept: (id: string) =>\n        request<Negotiation>('POST', `/api/negotiations/${id}/accept`),\n};\n\n// ============================================================\n// PAYMENTS\n// ============================================================\n\nexport const paymentsApi = {\n    initialize: (data: {\n        orderId: string; card: object;\n        buyer: object; shippingAddress: object; billingAddress: object;\n    }) =>\n        request<{ status: string; threeDSHtmlContent: string; paymentId: string }>(\n            'POST', '/api/payments/initialize', data\n        ),\n};\n\n// ============================================================\n// VENDORS\n// ============================================================\n\nexport const vendorsApi = {\n    register: (data: {\n        storeName: string; address: string; city: string;\n        district: string; identityNumber: string; iban: string;\n        subMerchantType?: string;\n    }) =>\n        request<{ vendor: object; iyzicoStatus: string }>(\n            'POST', '/api/vendors/register', data\n        ),\n};\n\n// ============================================================\n// COMPLIANCE\n// ============================================================\n\nexport const complianceApi = {\n    getDisclosure: () =>\n        request<{ title: string; content: string; version: string }>(\n            'GET', '/api/compliance/disclosure'\n        ),\n\n    recordConsent: (consentType: string, isGranted: boolean, version: string) =>\n        request<{ id: string }>('POST', '/api/compliance/consent', {\n            consentType, isGranted, consentTextVersion: version,\n        }),\n\n    getConsents: () =>\n        request<Record<string, boolean>>('GET', '/api/compliance/consents'),\n\n    requestDeletion: (reason: string) =>\n        request<{ requestId: string }>('POST', '/api/compliance/delete', { reason }),\n\n    exportData: () =>\n        request<object>('GET', '/api/compliance/export'),\n\n    reportTakedown: (data: {\n        listingId: string; reporterEmail: string;\n        reporterName: string; reason: string;\n    }) =>\n        request<{ requestId: string; deadline: string }>(\n            'POST', '/api/compliance/takedown', data\n        ),\n};\n\n// ============================================================\n// AGENTS\n// ============================================================\n\nexport const agentsApi = {\n    taskStatus: (taskId: string) =>\n        request<AgentTask>('GET', `/api/agents/tasks/${taskId}`),\n};\n\n// ============================================================\n// TYPES\n// ============================================================\n\nexport interface Listing {\n    id: string;\n    vendor_id: string;\n    title: string;\n    description: string;\n    price: number;\n    currency: string;\n    images: string[];\n    thumbnail_url: string;\n    category_id: string;\n    condition: string;\n    city: string;\n    status: string;\n    content_source: string;\n    requires_human_review: boolean;\n    view_count: number;\n    favorite_count: number;\n    created_at: string;\n    vendors?: { store_name: string; avg_rating: number; store_slug: string };\n    categories?: { name_tr: string; slug: string };\n}\n\nexport interface Auction {\n    id: string;\n    listing_id: string;\n    starting_price: number;\n    current_price: number;\n    reserve_price: number;\n    min_bid_increment: number;\n    bid_count: number;\n    highest_bidder_id: string;\n    status: string;\n    starts_at: string;\n    ends_at: string;\n    listings?: { title: string; thumbnail_url: string; price: number };\n}\n\nexport interface Bid {\n    id: string;\n    auction_id: string;\n    bidder_id: string;\n    amount: number;\n    is_winning: boolean;\n    created_at: string;\n}\n\nexport interface Negotiation {\n    id: string;\n    listing_id: string;\n    buyer_id: string;\n    seller_id: string;\n    initial_offer: number;\n    current_offer: number;\n    counter_offer: number | null;\n    agreed_price: number | null;\n    status: string;\n    round_count: number;\n}\n\nexport interface AgentTask {\n    id: string;\n    agentType: string;\n    taskType: string;\n    status: 'queued' | 'running' | 'completed' | 'failed';\n    result?: Record<string, unknown>;\n    error?: string;\n}\n"],"names":[],"mappings":"AAAA,+BAA+B;AAC/B,4DAA4D;;;;;;;;;;;;;;;;;AAE5D,MAAM,WAAW,6DAAmC;AAIpD,eAAe,QAAW,MAAc,EAAE,IAAY,EAAE,IAAa;IACjE,MAAM,QAAQ,sCACR,0BACA;IAEN,MAAM,MAAM,MAAM,MAAM,GAAG,WAAW,MAAM,EAAE;QAC1C;QACA,SAAS;YACL,gBAAgB;YAChB,GAAI,sCAAQ,0BAAuC,CAAC,CAAC;QACzD;QACA,MAAM,OAAO,KAAK,SAAS,CAAC,QAAQ;IACxC;IAEA,IAAI,CAAC,IAAI,EAAE,EAAE;QACT,MAAM,MAAM,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC;gBAAE,OAAO,IAAI,UAAU;YAAC,CAAC;QACnE,MAAM,IAAI,MAAM,IAAI,KAAK,IAAI,CAAC,WAAW,EAAE,IAAI,MAAM,EAAE;IAC3D;IAEA,OAAO,IAAI,IAAI;AACnB;AAMO,MAAM,cAAc;IACvB,QAAQ,CAAC;QAKL,MAAM,KAAK,IAAI;QACf,IAAI,QAAQ;YACR,OAAO,OAAO,CAAC,QAAQ,OAAO,CAAC,CAAC,CAAC,GAAG,EAAE;gBAClC,IAAI,MAAM,WAAW,GAAG,GAAG,CAAC,GAAG,OAAO;YAC1C;QACJ;QACA,OAAO,QAEJ,OAAO,CAAC,cAAc,EAAE,IAAI;IACnC;IAEA,KAAK,CAAC,KACF,QAAiB,OAAO,CAAC,cAAc,EAAE,IAAI;IAEjD,QAAQ,CAAC,SAAiB,QAAmB,UAAU,KAAK,GACxD,QACI,QAAQ,iBAAiB;YAAE;YAAS;YAAQ;QAAQ;IAG5D,QAAQ,CAAC,IAAY,OACjB,QAAiB,OAAO,CAAC,cAAc,EAAE,IAAI,EAAE;IAEnD,SAAS,CAAC,KACN,QAAiB,QAAQ,CAAC,cAAc,EAAE,GAAG,QAAQ,CAAC;IAE1D,QAAQ,CAAC,KACL,QAA8B,UAAU,CAAC,cAAc,EAAE,IAAI;IAEjE,gBAAgB,CAAC,WAAqB,QAAQ,EAAE,GAC5C,QAAmB,QAAQ,iCAAiC;YAAE;YAAW;QAAM;AACvF;AAMO,MAAM,cAAc;IACvB,MAAM,IACF,QAAmB,OAAO;IAE9B,QAAQ,CAAC,OAIL,QAAiB,QAAQ,iBAAiB;IAE9C,KAAK,CAAC,WAAmB,SACrB,QAAa,QAAQ,CAAC,cAAc,EAAE,UAAU,IAAI,CAAC,EAAE;YAAE;QAAO;AACxE;AAMO,MAAM,kBAAkB;IAC3B,OAAO,CAAC,WAAmB,cACvB,QAAqB,QAAQ,qBAAqB;YAAE;YAAW;QAAY;IAE/E,SAAS,CAAC,IAAY,SAClB,QAAqB,QAAQ,CAAC,kBAAkB,EAAE,GAAG,QAAQ,CAAC,EAAE;YAAE;QAAO;IAE7E,QAAQ,CAAC,KACL,QAAqB,QAAQ,CAAC,kBAAkB,EAAE,GAAG,OAAO,CAAC;AACrE;AAMO,MAAM,cAAc;IACvB,YAAY,CAAC,OAIT,QACI,QAAQ,4BAA4B;AAEhD;AAMO,MAAM,aAAa;IACtB,UAAU,CAAC,OAKP,QACI,QAAQ,yBAAyB;AAE7C;AAMO,MAAM,gBAAgB;IACzB,eAAe,IACX,QACI,OAAO;IAGf,eAAe,CAAC,aAAqB,WAAoB,UACrD,QAAwB,QAAQ,2BAA2B;YACvD;YAAa;YAAW,oBAAoB;QAChD;IAEJ,aAAa,IACT,QAAiC,OAAO;IAE5C,iBAAiB,CAAC,SACd,QAA+B,QAAQ,0BAA0B;YAAE;QAAO;IAE9E,YAAY,IACR,QAAgB,OAAO;IAE3B,gBAAgB,CAAC,OAIb,QACI,QAAQ,4BAA4B;AAEhD;AAMO,MAAM,YAAY;IACrB,YAAY,CAAC,SACT,QAAmB,OAAO,CAAC,kBAAkB,EAAE,QAAQ;AAC/D","debugId":null}},
    {"offset": {"line": 762, "column": 0}, "map": {"version":3,"sources":["file:///Users/taha/.gemini/antigravity/scratch/clawpazar/frontend/lib/mock-data.ts"],"sourcesContent":["// ClawPazar â€“ Shared Mock Data\n// Realistic Turkish listings and auctions for when backend is offline\n\nimport type { Listing, Auction } from './api';\n\n// ============================================================\n// MOCK LISTINGS\n// ============================================================\n\nexport const mockListings: Listing[] = [\n    {\n        id: 'mock-1',\n        vendor_id: 'v1',\n        title: 'iPhone 15 Pro Max 256GB â€” DoÄŸal Titanyum',\n        description: 'Kutusunda, tÃ¼m aksesuarlar mevcut. AppleCare+ Ekim 2025\\'e kadar geÃ§erli. Ekranda ve kasada Ã§izik yok. Face ID, kamera, batarya %97 saÄŸlÄ±k.',\n        price: 58000,\n        currency: 'TRY',\n        images: [],\n        thumbnail_url: '',\n        category_id: 'elektronik',\n        condition: 'like_new',\n        city: 'Ä°stanbul',\n        status: 'active',\n        content_source: 'user',\n        requires_human_review: false,\n        view_count: 342,\n        favorite_count: 28,\n        created_at: new Date(Date.now() - 2 * 3600000).toISOString(),\n        vendors: { store_name: 'TechPazar', avg_rating: 4.8, store_slug: 'techpazar' },\n        categories: { name_tr: 'Elektronik', slug: 'elektronik' },\n    },\n    {\n        id: 'mock-2',\n        vendor_id: 'v2',\n        title: 'MacBook Air M3 15\" 16GB/512GB â€” Gece YarÄ±sÄ±',\n        description: '2024 model, kutu aÃ§Ä±lmamÄ±ÅŸ sÄ±fÄ±r Ã¼rÃ¼n. Apple TÃ¼rkiye garantili. FaturasÄ± mevcuttur.',\n        price: 45500,\n        currency: 'TRY',\n        images: [],\n        thumbnail_url: '',\n        category_id: 'elektronik',\n        condition: 'new',\n        city: 'Ankara',\n        status: 'active',\n        content_source: 'user',\n        requires_human_review: false,\n        view_count: 189,\n        favorite_count: 45,\n        created_at: new Date(Date.now() - 5 * 3600000).toISOString(),\n        vendors: { store_name: 'MacStore TR', avg_rating: 4.9, store_slug: 'macstore-tr' },\n        categories: { name_tr: 'Elektronik', slug: 'elektronik' },\n    },\n    {\n        id: 'mock-3',\n        vendor_id: 'v3',\n        title: 'PlayStation 5 Slim + 2 DualSense + 3 Oyun',\n        description: 'PS5 Slim dijital sÃ¼rÃ¼m. Spider-Man 2, God of War RagnarÃ¶k, FC 25 dahil. 2 orijinal DualSense kol. Kutulu, faturalÄ±.',\n        price: 19500,\n        currency: 'TRY',\n        images: [],\n        thumbnail_url: '',\n        category_id: 'elektronik',\n        condition: 'like_new',\n        city: 'Ä°zmir',\n        status: 'active',\n        content_source: 'user',\n        requires_human_review: false,\n        view_count: 567,\n        favorite_count: 72,\n        created_at: new Date(Date.now() - 8 * 3600000).toISOString(),\n        categories: { name_tr: 'Elektronik', slug: 'elektronik' },\n    },\n    {\n        id: 'mock-4',\n        vendor_id: 'v4',\n        title: 'Nike Air Jordan 1 Retro High OG â€” Chicago',\n        description: 'Orijinal, StockX doÄŸrulamalÄ±. 42 numara. HiÃ§ giyilmedi, sadece denendi. Kutu ve etiket mevcut.',\n        price: 8500,\n        currency: 'TRY',\n        images: [],\n        thumbnail_url: '',\n        category_id: 'moda',\n        condition: 'new',\n        city: 'Ä°stanbul',\n        status: 'active',\n        content_source: 'user',\n        requires_human_review: false,\n        view_count: 234,\n        favorite_count: 56,\n        created_at: new Date(Date.now() - 12 * 3600000).toISOString(),\n        categories: { name_tr: 'Moda', slug: 'moda' },\n    },\n    {\n        id: 'mock-5',\n        vendor_id: 'v5',\n        title: 'Samsung Galaxy S24 Ultra 512GB â€” Titanium Gray',\n        description: 'Galaxy AI Ã¶zellikleri aktif. S Pen dahil. Ã‡izik yok, cam koruyucu ve kÄ±lÄ±f ile kullanÄ±ldÄ±. Batarya saÄŸlÄ±ÄŸÄ± mÃ¼kemmel.',\n        price: 42000,\n        currency: 'TRY',\n        images: [],\n        thumbnail_url: '',\n        category_id: 'elektronik',\n        condition: 'like_new',\n        city: 'Bursa',\n        status: 'active',\n        content_source: 'user',\n        requires_human_review: false,\n        view_count: 156,\n        favorite_count: 19,\n        created_at: new Date(Date.now() - 24 * 3600000).toISOString(),\n        categories: { name_tr: 'Elektronik', slug: 'elektronik' },\n    },\n    {\n        id: 'mock-6',\n        vendor_id: 'v6',\n        title: 'iPad Pro M4 13\" 256GB WiFi + Apple Pencil Pro',\n        description: 'OLED ekran, M4 Ã§ip. Apple Pencil Pro dahil. Magic Keyboard ayrÄ±ca satÄ±lÄ±k. Ã‡izim ve tasarÄ±m iÃ§in ideal.',\n        price: 38900,\n        currency: 'TRY',\n        images: [],\n        thumbnail_url: '',\n        category_id: 'elektronik',\n        condition: 'like_new',\n        city: 'Antalya',\n        status: 'active',\n        content_source: 'user',\n        requires_human_review: false,\n        view_count: 98,\n        favorite_count: 15,\n        created_at: new Date(Date.now() - 36 * 3600000).toISOString(),\n        categories: { name_tr: 'Elektronik', slug: 'elektronik' },\n    },\n    {\n        id: 'mock-7',\n        vendor_id: 'v7',\n        title: 'Dyson V15 Detect Absolute â€” Lazer SÃ¼pÃ¼rge',\n        description: 'Dyson V15 Detect, lazer toz algÄ±lama Ã¶zellikli. TÃ¼m baÅŸlÄ±klar mevcut. 1 yÄ±l kullanÄ±ldÄ±, mÃ¼kemmel durumda.',\n        price: 14500,\n        currency: 'TRY',\n        images: [],\n        thumbnail_url: '',\n        category_id: 'ev',\n        condition: 'used',\n        city: 'Ä°stanbul',\n        status: 'active',\n        content_source: 'user',\n        requires_human_review: false,\n        view_count: 87,\n        favorite_count: 12,\n        created_at: new Date(Date.now() - 48 * 3600000).toISOString(),\n        categories: { name_tr: 'Ev & YaÅŸam', slug: 'ev' },\n    },\n    {\n        id: 'mock-8',\n        vendor_id: 'v8',\n        title: 'Adidas Yeezy Boost 350 V2 â€” Zebra',\n        description: 'Orijinal, 43 numara. 3-4 kez giyildi. Temiz durumda, kutu mevcut.',\n        price: 5200,\n        currency: 'TRY',\n        images: [],\n        thumbnail_url: '',\n        category_id: 'moda',\n        condition: 'used',\n        city: 'Ankara',\n        status: 'active',\n        content_source: 'user',\n        requires_human_review: false,\n        view_count: 145,\n        favorite_count: 33,\n        created_at: new Date(Date.now() - 72 * 3600000).toISOString(),\n        categories: { name_tr: 'Moda', slug: 'moda' },\n    },\n    {\n        id: 'mock-9',\n        vendor_id: 'v9',\n        title: 'Apple Watch Ultra 2 â€” Titanyum, 49mm',\n        description: 'Alpine Loop kordon + Ocean Band dahil. GPS + Cellular. Ekranda Ã§izik yok, titanyum kasa mÃ¼kemmel durumda.',\n        price: 22000,\n        currency: 'TRY',\n        images: [],\n        thumbnail_url: '',\n        category_id: 'aksesuar',\n        condition: 'like_new',\n        city: 'Ä°stanbul',\n        status: 'active',\n        content_source: 'user',\n        requires_human_review: false,\n        view_count: 210,\n        favorite_count: 41,\n        created_at: new Date(Date.now() - 4 * 3600000).toISOString(),\n        categories: { name_tr: 'Aksesuar', slug: 'aksesuar' },\n    },\n    {\n        id: 'mock-10',\n        vendor_id: 'v10',\n        title: 'Sony WH-1000XM5 â€” GÃ¼rÃ¼ltÃ¼ Engelleme KulaklÄ±k',\n        description: 'Siyah renk, kutulu. ANC performansÄ± harika. 30 saat pil Ã¶mrÃ¼. USB-C ÅŸarj. 6 ay kullanÄ±ldÄ±.',\n        price: 6800,\n        currency: 'TRY',\n        images: [],\n        thumbnail_url: '',\n        category_id: 'elektronik',\n        condition: 'used',\n        city: 'Konya',\n        status: 'active',\n        content_source: 'user',\n        requires_human_review: false,\n        view_count: 178,\n        favorite_count: 22,\n        created_at: new Date(Date.now() - 96 * 3600000).toISOString(),\n        categories: { name_tr: 'Elektronik', slug: 'elektronik' },\n    },\n    {\n        id: 'mock-11',\n        vendor_id: 'v11',\n        title: 'Antika OsmanlÄ± Kahve FincanÄ± Seti â€” 6lÄ±',\n        description: 'El yapÄ±mÄ±, altÄ±n yaldÄ±zlÄ±. Koleksiyon deÄŸeri yÃ¼ksek. 100+ yÄ±llÄ±k orijinal parÃ§alar. SertifikalÄ±.',\n        price: 12000,\n        currency: 'TRY',\n        images: [],\n        thumbnail_url: '',\n        category_id: 'koleksiyon',\n        condition: 'used',\n        city: 'Trabzon',\n        status: 'active',\n        content_source: 'user',\n        requires_human_review: false,\n        view_count: 67,\n        favorite_count: 18,\n        created_at: new Date(Date.now() - 120 * 3600000).toISOString(),\n        categories: { name_tr: 'Koleksiyon', slug: 'koleksiyon' },\n    },\n    {\n        id: 'mock-12',\n        vendor_id: 'v12',\n        title: 'DJI Mini 4 Pro Fly More Combo â€” Drone',\n        description: '4K/60fps HDR video, 48MP fotoÄŸraf. 3 batarya, ÅŸarj hub, Ã§anta dahil. 10 uÃ§uÅŸ yapÄ±ldÄ±. Garanti devam ediyor.',\n        price: 27500,\n        currency: 'TRY',\n        images: [],\n        thumbnail_url: '',\n        category_id: 'elektronik',\n        condition: 'like_new',\n        city: 'Ä°stanbul',\n        status: 'active',\n        content_source: 'user',\n        requires_human_review: false,\n        view_count: 312,\n        favorite_count: 64,\n        created_at: new Date(Date.now() - 6 * 3600000).toISOString(),\n        categories: { name_tr: 'Elektronik', slug: 'elektronik' },\n    },\n];\n\n// ============================================================\n// MOCK AUCTIONS\n// ============================================================\n\nexport const mockAuctions: Auction[] = [\n    {\n        id: 'auction-1',\n        listing_id: 'mock-2',\n        starting_price: 35000,\n        current_price: 45200,\n        reserve_price: 42000,\n        min_bid_increment: 500,\n        bid_count: 12,\n        highest_bidder_id: 'u5',\n        status: 'active',\n        starts_at: new Date(Date.now() - 3600000).toISOString(),\n        ends_at: new Date(Date.now() + 2 * 3600000 + 14 * 60000).toISOString(),\n        listings: { title: 'MacBook Pro M3 14\"', thumbnail_url: '', price: 55000 },\n    },\n    {\n        id: 'auction-2',\n        listing_id: 'mock-11',\n        starting_price: 2000,\n        current_price: 3800,\n        reserve_price: 5000,\n        min_bid_increment: 200,\n        bid_count: 7,\n        highest_bidder_id: 'u3',\n        status: 'active',\n        starts_at: new Date(Date.now() - 7200000).toISOString(),\n        ends_at: new Date(Date.now() + 45 * 60000).toISOString(),\n        listings: { title: 'Antika OsmanlÄ± Kahve FincanÄ± Seti', thumbnail_url: '', price: 12000 },\n    },\n    {\n        id: 'auction-3',\n        listing_id: 'mock-3',\n        starting_price: 500,\n        current_price: 1200,\n        reserve_price: 2000,\n        min_bid_increment: 100,\n        bid_count: 23,\n        highest_bidder_id: 'u8',\n        status: 'active',\n        starts_at: new Date(Date.now() - 10800000).toISOString(),\n        ends_at: new Date(Date.now() + 5 * 60000).toISOString(),\n        listings: { title: 'Koleksiyon PokÃ©mon Kart Seti', thumbnail_url: '', price: 3000 },\n    },\n    {\n        id: 'auction-4',\n        listing_id: 'mock-9',\n        starting_price: 15000,\n        current_price: 19800,\n        reserve_price: 20000,\n        min_bid_increment: 500,\n        bid_count: 9,\n        highest_bidder_id: 'u2',\n        status: 'active',\n        starts_at: new Date(Date.now() - 1800000).toISOString(),\n        ends_at: new Date(Date.now() + 4 * 3600000).toISOString(),\n        listings: { title: 'Apple Watch Ultra 2 â€” Titanyum', thumbnail_url: '', price: 22000 },\n    },\n];\n\n// ============================================================\n// HELPERS\n// ============================================================\n\nexport function getMockListing(id: string): Listing | undefined {\n    return mockListings.find((l) => l.id === id);\n}\n\nexport function filterListings(opts: {\n    category?: string;\n    search?: string;\n}): Listing[] {\n    let results = [...mockListings];\n    if (opts.category && opts.category !== 'all') {\n        results = results.filter((l) => l.category_id === opts.category);\n    }\n    if (opts.search) {\n        const q = opts.search.toLowerCase();\n        results = results.filter((l) =>\n            l.title.toLowerCase().includes(q) ||\n            l.description.toLowerCase().includes(q) ||\n            l.city.toLowerCase().includes(q)\n        );\n    }\n    return results;\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1156, "column": 0}, "map": {"version":3,"sources":["file:///Users/taha/.gemini/antigravity/scratch/clawpazar/frontend/app/kesfet/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useMemo, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport { Search, SlidersHorizontal, Smartphone, ShoppingBag, Home, Gem, Theater, ArrowUpDown, MapPin, Package, Loader2, RefreshCw } from 'lucide-react';\nimport { BottomNav } from '@/components/BottomNav';\nimport { ListingCard } from '@/components/ListingCard';\nimport { listingsApi, type Listing } from '@/lib/api';\nimport { filterListings, mockListings } from '@/lib/mock-data';\n\nconst categories = [\n    { id: 'all', label: 'TÃ¼mÃ¼', icon: Gem },\n    { id: 'elektronik', label: 'Elektronik', icon: Smartphone },\n    { id: 'moda', label: 'Moda', icon: ShoppingBag },\n    { id: 'ev', label: 'Ev & YaÅŸam', icon: Home },\n    { id: 'aksesuar', label: 'Aksesuar', icon: Gem },\n    { id: 'koleksiyon', label: 'Koleksiyon', icon: Theater },\n];\n\nexport default function KesfetPage() {\n    const [activeCategory, setActiveCategory] = useState('all');\n    const [searchQuery, setSearchQuery] = useState('');\n    const [sortBy, setSortBy] = useState<'newest' | 'cheapest' | 'expensive'>('newest');\n    const [apiListings, setApiListings] = useState<Listing[] | null>(null);\n    const [loading, setLoading] = useState(true);\n    const [isOffline, setIsOffline] = useState(false);\n\n    // Try real API first, fallback to mock\n    useEffect(() => {\n        let cancelled = false;\n        setLoading(true);\n\n        listingsApi.browse({\n            category: activeCategory === 'all' ? undefined : activeCategory,\n            search: searchQuery || undefined,\n            sort: sortBy === 'cheapest' ? 'price_asc' : sortBy === 'expensive' ? 'price_desc' : 'newest',\n        })\n            .then((res) => {\n                if (!cancelled) {\n                    setApiListings(res.listings);\n                    setIsOffline(false);\n                }\n            })\n            .catch(() => {\n                if (!cancelled) {\n                    setApiListings(null);\n                    setIsOffline(true);\n                }\n            })\n            .finally(() => {\n                if (!cancelled) setLoading(false);\n            });\n\n        return () => { cancelled = true; };\n    }, [activeCategory, searchQuery, sortBy]);\n\n    // Use API data if available, otherwise mock\n    const listings = useMemo(() => {\n        if (apiListings) return apiListings;\n\n        let results = filterListings({ category: activeCategory, search: searchQuery });\n        switch (sortBy) {\n            case 'cheapest': results.sort((a, b) => a.price - b.price); break;\n            case 'expensive': results.sort((a, b) => b.price - a.price); break;\n            default: results.sort((a, b) => new Date(b.created_at).getTime() - new Date(a.created_at).getTime());\n        }\n        return results;\n    }, [apiListings, activeCategory, searchQuery, sortBy]);\n\n    const sortLabels = { newest: 'En Yeni', cheapest: 'En Ucuz', expensive: 'En PahalÄ±' };\n    const nextSort = () => {\n        const order: Array<'newest' | 'cheapest' | 'expensive'> = ['newest', 'cheapest', 'expensive'];\n        setSortBy(order[(order.indexOf(sortBy) + 1) % order.length]);\n    };\n\n    return (\n        <div className=\"pb-24 min-h-dvh\">\n            <div className=\"px-5 pt-6 pb-4\">\n                <h1 className=\"text-xl font-bold flex items-center gap-2\">\n                    <Search className=\"w-5 h-5 icon-cyan icon-neon\" strokeWidth={2} />\n                    KeÅŸfet\n                </h1>\n                <p className=\"text-xs text-[var(--color-text-muted)] mt-1 flex items-center gap-1.5\">\n                    {loading ? <Loader2 className=\"w-3 h-3 animate-spin\" /> : `${listings.length} ilan`}\n                    {isOffline && (\n                        <span className=\"text-[var(--neon-orange)] font-retro text-[10px] ml-1\">OFFLINE</span>\n                    )}\n                </p>\n            </div>\n\n            {/* Search */}\n            <div className=\"px-5 mb-4\">\n                <div className=\"relative\">\n                    <input\n                        type=\"text\"\n                        value={searchQuery}\n                        onChange={(e) => setSearchQuery(e.target.value)}\n                        placeholder=\"iPhone, ayakkabÄ±, PS5...\"\n                        className=\"w-full rounded-2xl bg-[var(--color-surface-elevated)] border border-[var(--neon-purple)]/15 px-5 py-3.5 pl-11 text-sm text-[var(--color-text-primary)] placeholder:text-[var(--color-text-muted)] focus:outline-none focus:border-[var(--neon-cyan)]/40 focus:shadow-[0_0_20px_rgba(0,240,255,0.1)] transition-all\"\n                    />\n                    <Search className=\"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-[var(--color-text-muted)]\" strokeWidth={1.5} />\n                    <button className=\"absolute right-3 top-1/2 -translate-y-1/2 p-1.5 rounded-lg hover:bg-[var(--neon-purple)]/10 transition-colors\">\n                        <SlidersHorizontal className=\"w-4 h-4 text-[var(--color-text-muted)] hover:text-[var(--neon-cyan)]\" strokeWidth={1.5} />\n                    </button>\n                </div>\n            </div>\n\n            {/* Categories */}\n            <div className=\"flex gap-2 overflow-x-auto px-5 pb-3 scrollbar-hide\">\n                {categories.map((cat) => {\n                    const CatIcon = cat.icon;\n                    return (\n                        <button\n                            key={cat.id}\n                            onClick={() => setActiveCategory(cat.id)}\n                            className={`shrink-0 rounded-full px-4 py-2 text-xs font-medium transition-all flex items-center gap-1.5 ${activeCategory === cat.id\n                                ? 'neon-btn text-white shadow-[0_0_12px_rgba(107,0,255,0.3)]'\n                                : 'bg-[var(--color-surface-elevated)] border border-[var(--neon-purple)]/15 text-[var(--color-text-secondary)] hover:border-[var(--neon-cyan)]/30'\n                                }`}\n                        >\n                            <CatIcon className=\"w-3.5 h-3.5\" strokeWidth={1.5} />\n                            {cat.label}\n                        </button>\n                    );\n                })}\n            </div>\n\n            {/* Filters */}\n            <div className=\"flex gap-2 px-5 mb-5\">\n                <button className=\"flex items-center gap-1.5 rounded-xl bg-[var(--color-surface-elevated)] border border-[var(--neon-purple)]/15 px-3 py-2 text-xs text-[var(--color-text-secondary)] hover:border-[var(--neon-cyan)]/30 transition-colors\">\n                    <MapPin className=\"w-3.5 h-3.5\" strokeWidth={1.5} />\n                    TÃ¼m Åžehirler\n                </button>\n                <button\n                    onClick={nextSort}\n                    className=\"flex-1 flex items-center gap-1.5 rounded-xl bg-[var(--color-surface-elevated)] border border-[var(--neon-purple)]/15 px-3 py-2 text-xs text-[var(--color-text-secondary)] hover:border-[var(--neon-cyan)]/30 transition-colors\"\n                >\n                    <ArrowUpDown className=\"w-3.5 h-3.5\" strokeWidth={1.5} />\n                    {sortLabels[sortBy]}\n                </button>\n            </div>\n\n            {/* Loading */}\n            {loading && (\n                <div className=\"flex justify-center py-12\">\n                    <Loader2 className=\"w-6 h-6 animate-spin text-[var(--neon-cyan)]\" />\n                </div>\n            )}\n\n            {/* Listings Grid */}\n            {!loading && listings.length > 0 && (\n                <motion.div\n                    className=\"grid grid-cols-2 gap-3 px-5\"\n                    initial=\"hidden\"\n                    animate=\"show\"\n                    variants={{ show: { transition: { staggerChildren: 0.06 } } }}\n                >\n                    {listings.map((listing) => (\n                        <motion.div key={listing.id} variants={{ hidden: { opacity: 0, y: 16 }, show: { opacity: 1, y: 0 } }}>\n                            <ListingCard\n                                id={listing.id}\n                                title={listing.title}\n                                price={listing.price}\n                                thumbnailUrl={listing.thumbnail_url || undefined}\n                                condition={listing.condition}\n                                city={listing.city}\n                                contentSource={listing.content_source}\n                                storeName={listing.vendors?.store_name}\n                                createdAt={listing.created_at}\n                                favoriteCount={listing.favorite_count}\n                                viewCount={listing.view_count}\n                            />\n                        </motion.div>\n                    ))}\n                </motion.div>\n            )}\n\n            {/* Empty state */}\n            {!loading && listings.length === 0 && (\n                <motion.div className=\"text-center py-16 px-5\" initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }}>\n                    <div className=\"inline-flex h-16 w-16 items-center justify-center rounded-full bg-[var(--neon-purple)]/10 border border-[var(--neon-purple)]/20 mb-4\">\n                        <Package className=\"w-7 h-7 text-[var(--color-text-muted)] icon-neon\" strokeWidth={1} />\n                    </div>\n                    <p className=\"text-sm text-[var(--color-text-muted)]\">SonuÃ§ bulunamadÄ±</p>\n                    <p className=\"text-xs text-[var(--color-text-muted)] mt-1\">FarklÄ± bir arama veya kategori deneyin</p>\n                </motion.div>\n            )}\n\n            <BottomNav />\n        </div>\n    );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}