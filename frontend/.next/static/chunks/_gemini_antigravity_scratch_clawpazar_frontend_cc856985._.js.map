{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/taha/.gemini/antigravity/scratch/clawpazar/frontend/lib/store.ts"],"sourcesContent":["// ClawPazar ‚Äì Zustand State Management\n// Stores: auth, auction, chat, listings\n\nimport { create } from 'zustand';\nimport type { Listing, Auction, Bid, Negotiation, AgentTask } from './api';\n\n// ============================================================\n// 1. AUTH STORE\n// ============================================================\n\ninterface AuthState {\n    userId: string | null;\n    email: string | null;\n    displayName: string | null;\n    role: 'buyer' | 'seller' | 'admin' | null;\n    token: string | null;\n    isAuthenticated: boolean;\n    login: (token: string, user: { id: string; email: string; displayName: string; role: string }) => void;\n    logout: () => void;\n}\n\nexport const useAuth = create<AuthState>((set) => ({\n    userId: null,\n    email: null,\n    displayName: null,\n    role: null,\n    token: typeof window !== 'undefined' ? localStorage.getItem('cp_token') : null,\n    isAuthenticated: typeof window !== 'undefined' ? !!localStorage.getItem('cp_token') : false,\n\n    login: (token, user) => {\n        localStorage.setItem('cp_token', token);\n        set({\n            token,\n            userId: user.id,\n            email: user.email,\n            displayName: user.displayName,\n            role: user.role as AuthState['role'],\n            isAuthenticated: true,\n        });\n    },\n\n    logout: () => {\n        localStorage.removeItem('cp_token');\n        set({\n            token: null,\n            userId: null,\n            email: null,\n            displayName: null,\n            role: null,\n            isAuthenticated: false,\n        });\n    },\n}));\n\n// ============================================================\n// 2. AUCTION STORE (real-time via WebSocket)\n// ============================================================\n\ninterface AuctionState {\n    activeAuction: Auction | null;\n    bids: Bid[];\n    isConnected: boolean;\n    setAuction: (auction: Auction) => void;\n    addBid: (bid: Bid) => void;\n    updatePrice: (price: number, endsAt: string) => void;\n    setConnected: (connected: boolean) => void;\n    reset: () => void;\n}\n\nexport const useAuction = create<AuctionState>((set) => ({\n    activeAuction: null,\n    bids: [],\n    isConnected: false,\n\n    setAuction: (auction) => set({ activeAuction: auction }),\n\n    addBid: (bid) =>\n        set((state) => ({\n            bids: [bid, ...state.bids].slice(0, 50), // keep last 50\n        })),\n\n    updatePrice: (price, endsAt) =>\n        set((state) => ({\n            activeAuction: state.activeAuction\n                ? { ...state.activeAuction, current_price: price, ends_at: endsAt }\n                : null,\n        })),\n\n    setConnected: (connected) => set({ isConnected: connected }),\n\n    reset: () => set({ activeAuction: null, bids: [], isConnected: false }),\n}));\n\n// ============================================================\n// 3. CHAT STORE (agent conversation)\n// ============================================================\n\nexport interface ChatMessage {\n    id: string;\n    role: 'user' | 'agent';\n    content: string;\n    timestamp: Date;\n    type: 'text' | 'image' | 'voice' | 'task_card' | 'listing_preview';\n    metadata?: Record<string, unknown>;\n    agentStatus?: string;\n    isStreaming?: boolean;\n}\n\ninterface ChatState {\n    messages: ChatMessage[];\n    isAgentTyping: boolean;\n    agentStatus: string | null;\n    activeTask: AgentTask | null;\n    addMessage: (msg: ChatMessage) => void;\n    addAgentReply: (msg: ChatMessage) => void; // adds msg AND clears typing\n    deleteMessage: (id: string) => void;\n    setAgentTyping: (typing: boolean, status?: string) => void;\n    setActiveTask: (task: AgentTask | null) => void;\n    setInput: (text: string) => void;\n    clearChat: () => void;\n    getMessages: () => ChatMessage[];\n    streamAgentStart: (msg: ChatMessage) => void; // start streaming placeholder\n    updateLastAgentMessage: (content: string) => void; // update streaming content\n    finalizeStream: () => void; // mark streaming done\n}\n\nexport const useChat = create<ChatState>((set, get) => ({\n    messages: [],\n    isAgentTyping: false,\n    agentStatus: null,\n    activeTask: null,\n\n    // Add message WITHOUT touching typing state (for user messages)\n    addMessage: (msg) =>\n        set((state) => ({\n            messages: [...state.messages, msg],\n        })),\n\n    // Add agent reply AND clear typing indicator in one atomic update\n    addAgentReply: (msg) =>\n        set((state) => ({\n            messages: [...state.messages, msg],\n            isAgentTyping: false,\n            agentStatus: null,\n        })),\n\n    deleteMessage: (id) =>\n        set((state) => ({\n            messages: state.messages.filter((m) => m.id !== id),\n        })),\n\n    setAgentTyping: (typing, status) =>\n        set({ isAgentTyping: typing, agentStatus: status || null }),\n\n    setActiveTask: (task) => set({ activeTask: task }),\n\n    setInput: () => { },\n\n    // Getter for accessing messages outside React render (e.g. in async functions)\n    getMessages: () => get().messages,\n\n    // Start a streaming message placeholder\n    streamAgentStart: (msg) =>\n        set((state) => ({\n            messages: [...state.messages, { ...msg, isStreaming: true }],\n            isAgentTyping: false,\n            agentStatus: null,\n        })),\n\n    // Update the last agent message content (for streaming)\n    updateLastAgentMessage: (content) =>\n        set((state) => {\n            const msgs = [...state.messages];\n            for (let i = msgs.length - 1; i >= 0; i--) {\n                if (msgs[i].role === 'agent' && msgs[i].isStreaming) {\n                    msgs[i] = { ...msgs[i], content };\n                    break;\n                }\n            }\n            return { messages: msgs };\n        }),\n\n    // Mark streaming as complete\n    finalizeStream: () =>\n        set((state) => {\n            const msgs = state.messages.map((m) =>\n                m.isStreaming ? { ...m, isStreaming: false } : m\n            );\n            return { messages: msgs, isAgentTyping: false, agentStatus: null };\n        }),\n\n    clearChat: () => set({ messages: [], isAgentTyping: false, agentStatus: null, activeTask: null }),\n}));\n\n// ============================================================\n// 4. LISTINGS STORE\n// ============================================================\n\ninterface ListingsState {\n    listings: Listing[];\n    totalCount: number;\n    currentPage: number;\n    isLoading: boolean;\n    filters: {\n        category?: string;\n        search?: string;\n        minPrice?: number;\n        maxPrice?: number;\n        city?: string;\n        sort?: string;\n    };\n    setListings: (listings: Listing[], total: number) => void;\n    appendListings: (listings: Listing[]) => void;\n    setPage: (page: number) => void;\n    setFilters: (filters: Partial<ListingsState['filters']>) => void;\n    setLoading: (loading: boolean) => void;\n}\n\nexport const useListings = create<ListingsState>((set) => ({\n    listings: [],\n    totalCount: 0,\n    currentPage: 1,\n    isLoading: false,\n    filters: {},\n\n    setListings: (listings, total) => set({ listings, totalCount: total, currentPage: 1 }),\n\n    appendListings: (newListings) =>\n        set((state) => ({\n            listings: [...state.listings, ...newListings],\n            currentPage: state.currentPage + 1,\n        })),\n\n    setPage: (page) => set({ currentPage: page }),\n\n    setFilters: (filters) =>\n        set((state) => ({\n            filters: { ...state.filters, ...filters },\n            listings: [],\n            currentPage: 1,\n        })),\n\n    setLoading: (loading) => set({ isLoading: loading }),\n}));\n\n// ============================================================\n// HELPERS\n// ============================================================\n\n/** Format price as Turkish Lira */\nexport function formatPrice(amount: number): string {\n    return new Intl.NumberFormat('tr-TR', {\n        style: 'currency',\n        currency: 'TRY',\n        minimumFractionDigits: 0,\n        maximumFractionDigits: 0,\n    }).format(amount);\n}\n\n/** Format relative time in Turkish */\nexport function formatTimeAgo(date: string | Date): string {\n    const now = new Date();\n    const then = new Date(date);\n    const diffMs = now.getTime() - then.getTime();\n    const diffMin = Math.floor(diffMs / 60000);\n    const diffHour = Math.floor(diffMs / 3600000);\n    const diffDay = Math.floor(diffMs / 86400000);\n\n    if (diffMin < 1) return 'az √∂nce';\n    if (diffMin < 60) return `${diffMin} dk √∂nce`;\n    if (diffHour < 24) return `${diffHour} sa √∂nce`;\n    if (diffDay < 7) return `${diffDay} g√ºn √∂nce`;\n    return then.toLocaleDateString('tr-TR', { day: 'numeric', month: 'short' });\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 228, "column": 0}, "map": {"version":3,"sources":["file:///Users/taha/.gemini/antigravity/scratch/clawpazar/frontend/components/AgentChat.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useRef, useEffect, useCallback } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Bot, Camera, Mic, MicOff, Send, Smartphone, ShoppingBag, Gamepad2, ShoppingCart, Sparkles, ChevronLeft, Trash2 } from 'lucide-react';\nimport Link from 'next/link';\nimport { useChat, useAuth, type ChatMessage } from '@/lib/store';\n\n/* ‚îÄ‚îÄ Real LLM streaming client ‚îÄ‚îÄ */\n\nasync function streamAgentResponse(\n    history: ChatMessage[],\n    onChunk: (text: string) => void,\n    onDone: () => void,\n    onError: (err: string) => void,\n): Promise<void> {\n    try {\n        const res = await fetch('/api/chat', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n                messages: history.map((m) => ({ role: m.role, content: m.content })),\n            }),\n        });\n\n        if (!res.ok) {\n            const data = await res.json().catch(() => ({ error: `HTTP ${res.status}` }));\n            onError(data.error || `API hatasƒ±: ${res.status}`);\n            return;\n        }\n\n        if (!res.body) {\n            onError('Yanƒ±t stream bulunamadƒ±');\n            return;\n        }\n\n        const reader = res.body.getReader();\n        const decoder = new TextDecoder();\n        let accumulated = '';\n        let buffer = '';\n\n        while (true) {\n            const { done, value } = await reader.read();\n            if (done) break;\n\n            buffer += decoder.decode(value, { stream: true });\n            const lines = buffer.split('\\n');\n            buffer = lines.pop() || '';\n\n            for (const line of lines) {\n                const trimmed = line.trim();\n                if (!trimmed || !trimmed.startsWith('data: ')) continue;\n\n                const data = trimmed.slice(6);\n                if (data === '[DONE]') continue;\n\n                try {\n                    const json = JSON.parse(data);\n                    if (json.content) {\n                        accumulated += json.content;\n                        onChunk(accumulated);\n                    }\n                } catch {\n                    // Skip malformed chunks\n                }\n            }\n        }\n\n        onDone();\n    } catch (err) {\n        onError(err instanceof Error ? err.message : 'Baƒülantƒ± hatasƒ±');\n    }\n}\n\n/* ‚îÄ‚îÄ Speech Recognition helper ‚îÄ‚îÄ */\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ntype SpeechRecognitionInstance = any;\n\nfunction getSpeechRecognition(): SpeechRecognitionInstance | null {\n    if (typeof window === 'undefined') return null;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const w = window as any;\n    const SR = w.SpeechRecognition || w.webkitSpeechRecognition;\n    if (!SR) return null;\n    const recognition = new SR();\n    recognition.lang = 'tr-TR';\n    recognition.interimResults = false;\n    recognition.maxAlternatives = 1;\n    return recognition;\n}\n\n/* ‚îÄ‚îÄ Component ‚îÄ‚îÄ */\n\nexport function AgentChat() {\n    const {\n        messages, isAgentTyping, agentStatus,\n        addMessage, addAgentReply, deleteMessage, setAgentTyping,\n        getMessages, streamAgentStart, updateLastAgentMessage, finalizeStream,\n    } = useChat();\n    const isAuthenticated = useAuth((s) => s.isAuthenticated);\n    const [input, setInput] = useState('');\n    const [isRecording, setIsRecording] = useState(false);\n    const [deleteTarget, setDeleteTarget] = useState<string | null>(null);\n    const scrollRef = useRef<HTMLDivElement>(null);\n    const isSending = useRef(false);\n    const recognitionRef = useRef<SpeechRecognitionInstance | null>(null);\n\n    // Auto-scroll on new messages\n    useEffect(() => {\n        scrollRef.current?.scrollTo({ top: scrollRef.current.scrollHeight, behavior: 'smooth' });\n    }, [messages, isAgentTyping]);\n\n    const sendMessage = useCallback(async (overrideText?: string) => {\n        const text = (overrideText || input).trim();\n        if (!text || isSending.current) return;\n\n        isSending.current = true;\n        setInput('');\n\n        // 1. Add user message\n        addMessage({\n            id: crypto.randomUUID(),\n            role: 'user',\n            content: text,\n            timestamp: new Date(),\n            type: 'text',\n        });\n\n        // 2. Show typing indicator\n        setAgentTyping(true, 'üîç Analiz ediliyor...');\n\n        try {\n            // 3. Brief delay for UX\n            await new Promise((r) => setTimeout(r, 400));\n            setAgentTyping(true, 'ü§ñ LLM baƒülantƒ±sƒ± kuruluyor...');\n\n            // 4. Get full conversation history (fresh from store)\n            const currentHistory = getMessages();\n\n            // 5. Create streaming placeholder\n            const replyId = crypto.randomUUID();\n            streamAgentStart({\n                id: replyId,\n                role: 'agent',\n                content: '',\n                timestamp: new Date(),\n                type: 'text',\n            });\n\n            // 6. Stream response from LLM\n            await streamAgentResponse(\n                currentHistory,\n                (accumulated) => {\n                    updateLastAgentMessage(accumulated);\n                },\n                () => {\n                    finalizeStream();\n                },\n                (err) => {\n                    // On error, update the streaming message with error content\n                    updateLastAgentMessage(`‚ö†Ô∏è ${err}`);\n                    finalizeStream();\n                },\n            );\n        } catch {\n            addAgentReply({\n                id: crypto.randomUUID(),\n                role: 'agent',\n                content: '‚ö†Ô∏è Bir hata olu≈ütu. L√ºtfen tekrar deneyin.',\n                timestamp: new Date(),\n                type: 'text',\n            });\n        } finally {\n            isSending.current = false;\n        }\n    }, [input, addMessage, addAgentReply, setAgentTyping, getMessages, streamAgentStart, updateLastAgentMessage, finalizeStream]);\n\n    const handleKeyDown = (e: React.KeyboardEvent) => {\n        if (e.key === 'Enter' && !e.shiftKey) { e.preventDefault(); sendMessage(); }\n    };\n\n    /* ‚îÄ‚îÄ Voice recording with Web Speech API ‚îÄ‚îÄ */\n    const toggleRecording = useCallback(() => {\n        if (isRecording) {\n            // Stop recording\n            recognitionRef.current?.stop();\n            setIsRecording(false);\n            return;\n        }\n\n        const recognition = getSpeechRecognition();\n        if (!recognition) {\n            addAgentReply({\n                id: crypto.randomUUID(),\n                role: 'agent',\n                content: '‚ö†Ô∏è Tarayƒ±cƒ±nƒ±z sesli komutlarƒ± desteklemiyor. Chrome, Edge veya Safari kullanƒ±n.',\n                timestamp: new Date(),\n                type: 'text',\n            });\n            return;\n        }\n\n        recognitionRef.current = recognition;\n        setIsRecording(true);\n\n        // Show recording indicator\n        addMessage({\n            id: crypto.randomUUID(),\n            role: 'user',\n            content: 'üé§ Dinleniyor...',\n            timestamp: new Date(),\n            type: 'voice',\n        });\n\n        recognition.onresult = (event: { results: { 0: { 0: { transcript: string } } } }) => {\n            const transcript = event.results[0]?.[0]?.transcript;\n            if (transcript) {\n                setIsRecording(false);\n                sendMessage(transcript);\n            }\n        };\n\n        recognition.onerror = () => {\n            setIsRecording(false);\n            addAgentReply({\n                id: crypto.randomUUID(),\n                role: 'agent',\n                content: '‚ö†Ô∏è Sesli komut alƒ±namadƒ±. Mikrofon iznini kontrol edin ve tekrar deneyin.',\n                timestamp: new Date(),\n                type: 'text',\n            });\n        };\n\n        recognition.onend = () => {\n            setIsRecording(false);\n        };\n\n        recognition.start();\n    }, [isRecording, addMessage, addAgentReply, sendMessage]);\n\n    const handleDelete = (e: React.MouseEvent, id: string) => {\n        e.preventDefault();\n        e.stopPropagation();\n        deleteMessage(id);\n        setDeleteTarget(null);\n    };\n\n    const quickActions = [\n        { text: 'Telefon satmak istiyorum', icon: Smartphone },\n        { text: 'Ayakkabƒ± var', icon: ShoppingBag },\n        { text: 'PlayStation satƒ±lƒ±k', icon: Gamepad2 },\n    ];\n\n    /* ‚îÄ‚îÄ Suggestion chips based on conversation context ‚îÄ‚îÄ */\n    const getSuggestions = (): string[] => {\n        if (messages.length === 0) return [];\n        const lastAgent = [...messages].reverse().find((m) => m.role === 'agent');\n        const content = lastAgent?.content?.toLowerCase() || '';\n\n        // Kargo flow\n        if (content.includes('kargoyu ben ayarlayayƒ±m') || content.includes('kargo se√ßenek')) {\n            return ['PTT Kargo (39.90‚Ç∫)', 'MNG Kargo (49.90‚Ç∫)', 'Yurti√ßi Kargo (54.90‚Ç∫)', 'Y√ºz y√ºze teslim'];\n        }\n        if (content.includes('kargo') || content.includes('teslimat') || content.includes('g√∂nder')) {\n            return ['Kargoyu sen ayarla', 'Y√ºz y√ºze teslim', 'Adresimi g√∂nderiyorum'];\n        }\n        // Publish flow\n        if (content.includes('yayƒ±nla') || content.includes('ilan taslaƒüƒ±') || content.includes('t√ºm bilgiler')) {\n            return ['Yayƒ±nla', 'Fotoƒüraf ekle', 'Kargo se√ßenekleri'];\n        }\n        // Escrow\n        if (content.includes('escrow') || content.includes('g√ºvenli')) {\n            return ['Escrow nasƒ±l √ßalƒ±≈üƒ±r?', '√ñdeme yap', 'ƒ∞ptal et'];\n        }\n        // Collecting info\n        if (content.includes('fotoƒüraf') || content.includes('ilan')) {\n            return ['Fotoƒüraf ekle', 'Yayƒ±nla', 'Kargo bilgisi'];\n        }\n        if (messages.length > 4) {\n            return ['Yayƒ±nla', 'Fotoƒüraf ekle', 'Kargo bilgisi'];\n        }\n        return ['Fiyat √∂ner', 'Durumu iyi', 'Fotoƒüraf ekle'];\n    };\n\n    return (\n        <div className=\"flex flex-col h-full\">\n            {/* ‚îÄ‚îÄ Header ‚îÄ‚îÄ */}\n            <div className=\"flex items-center gap-3 p-4 glass border-b border-[var(--neon-purple)]/10\">\n                <Link href=\"/\" className=\"flex h-8 w-8 shrink-0 items-center justify-center rounded-full hover:bg-[var(--neon-purple)]/10 transition-colors -ml-1\">\n                    <ChevronLeft className=\"w-5 h-5 text-[var(--color-text-secondary)]\" />\n                </Link>\n                <div className=\"relative\">\n                    <div className=\"flex h-10 w-10 items-center justify-center rounded-full bg-gradient-to-br from-[#6B00FF] to-[#00F0FF] animate-glow-ring scanline-overlay\">\n                        <Bot className=\"w-5 h-5 text-white\" strokeWidth={2} />\n                    </div>\n                    <div className=\"absolute -bottom-0.5 -right-0.5 w-3 h-3 rounded-full bg-[var(--neon-green)] border-2 border-[var(--color-surface-base)]\" />\n                </div>\n                <div>\n                    <h2 className=\"text-sm font-bold text-[var(--color-text-primary)] flex items-center gap-1.5\">\n                        ClawPazar Ajan\n                        <Sparkles className=\"w-3 h-3 icon-purple icon-neon\" />\n                    </h2>\n                    <p className=\"text-[11px] font-retro\" style={{ color: isAgentTyping ? 'var(--neon-cyan)' : 'var(--neon-green)' }}>\n                        {isAgentTyping ? (agentStatus || 'ƒ∞≈ûLƒ∞YOR...') : 'BAƒûLI ‚Äî GER√áEK AJAN (GLM-5.0)'}\n                    </p>\n                </div>\n                {!isAuthenticated && (\n                    <Link href=\"/auth\" className=\"ml-auto text-[10px] font-retro text-[var(--neon-cyan)] border border-[var(--neon-cyan)]/30 rounded-full px-3 py-1 hover:bg-[var(--neon-cyan)]/10 transition-colors\">\n                        Gƒ∞Rƒ∞≈û YAP\n                    </Link>\n                )}\n            </div>\n\n            {/* ‚îÄ‚îÄ Messages ‚îÄ‚îÄ */}\n            <div ref={scrollRef} className=\"flex-1 overflow-y-auto p-4 space-y-3\">\n                {/* Empty state */}\n                {messages.length === 0 && !isAgentTyping && (\n                    <motion.div className=\"text-center py-12\" initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ duration: 0.5 }}>\n                        <div className=\"inline-flex h-20 w-20 items-center justify-center rounded-full bg-gradient-to-br from-[#6B00FF]/20 to-[#00F0FF]/10 border border-[var(--neon-purple)]/20 mb-4 scanline-overlay\">\n                            <ShoppingCart className=\"w-9 h-9 text-[var(--color-text-muted)] icon-neon\" strokeWidth={1} />\n                        </div>\n                        <h3 className=\"text-lg font-bold text-[var(--color-text-primary)] mb-2\">Merhaba! Ben ClawPazar Ajanƒ±n</h3>\n                        <p className=\"text-sm text-[var(--color-text-secondary)] max-w-xs mx-auto mb-6\">\n                            Satmak istediƒüin √ºr√ºn√º anlat, ger√ßek AI ajan seninle konu≈üsun!\n                        </p>\n                        <div className=\"flex flex-wrap justify-center gap-2\">\n                            {quickActions.map((qa) => {\n                                const QaIcon = qa.icon;\n                                return (\n                                    <motion.button key={qa.text} onClick={() => sendMessage(qa.text)}\n                                        className=\"rounded-full border border-[var(--neon-purple)]/30 bg-[var(--neon-purple)]/5 px-4 py-2.5 text-xs font-medium text-[var(--neon-cyan)] transition-all hover:bg-[var(--neon-purple)]/15 active:scale-95 flex items-center gap-1.5\"\n                                        whileHover={{ scale: 1.05 }} whileTap={{ scale: 0.95 }}>\n                                        <QaIcon className=\"w-3.5 h-3.5 icon-neon\" strokeWidth={1.5} />\n                                        {qa.text}\n                                    </motion.button>\n                                );\n                            })}\n                        </div>\n                    </motion.div>\n                )}\n\n                {/* Message bubbles */}\n                {messages.map((msg) => (\n                    <motion.div\n                        key={msg.id}\n                        className={`flex ${msg.role === 'user' ? 'justify-end' : 'justify-start'} group/msg relative`}\n                        initial={{ opacity: 0, y: 12, scale: 0.97 }}\n                        animate={{ opacity: 1, y: 0, scale: 1 }}\n                        transition={{ duration: 0.3 }}\n                    >\n                        {/* Agent avatar */}\n                        {msg.role === 'agent' && (\n                            <div className=\"flex h-7 w-7 shrink-0 items-center justify-center rounded-full bg-gradient-to-br from-[#6B00FF] to-[#00F0FF] mr-2 mt-1 shadow-[0_0_12px_rgba(107,0,255,0.3)] scanline-overlay\">\n                                <Bot className=\"w-3.5 h-3.5 text-white\" strokeWidth={2} />\n                            </div>\n                        )}\n\n                        <div className=\"relative max-w-[80%]\">\n                            {/* Bubble */}\n                            <div\n                                className={`rounded-2xl px-4 py-2.5 text-sm leading-relaxed ${msg.role === 'user'\n                                    ? 'bg-gradient-to-r from-[#6B00FF] to-[#4800B0] text-white rounded-br-md shadow-[0_0_16px_rgba(107,0,255,0.2)]'\n                                    : 'bg-[var(--color-surface-elevated)] border border-[var(--neon-purple)]/15 text-[var(--color-text-primary)] rounded-bl-md shadow-[0_0_20px_rgba(107,0,255,0.1)]'\n                                    }`}\n                                onContextMenu={(e: React.MouseEvent) => { e.preventDefault(); setDeleteTarget(msg.id); }}\n                            >\n                                {msg.type === 'voice' ? (\n                                    <div className=\"flex items-center gap-2\">\n                                        <span className=\"text-[var(--neon-pink)] animate-pulse\">‚óè</span>\n                                        <div className=\"flex gap-0.5\">\n                                            {Array.from({ length: 12 }).map((_, j) => (\n                                                <div key={j} className=\"w-1 rounded-full\" style={{ height: `${8 + Math.random() * 16}px`, opacity: 0.4 + Math.random() * 0.6, background: 'linear-gradient(to top, #6B00FF, #00F0FF)' }} />\n                                            ))}\n                                        </div>\n                                    </div>\n                                ) : (\n                                    <div className=\"whitespace-pre-wrap\">\n                                        {msg.content || (msg.isStreaming ? '‚ñä' : '')}\n                                    </div>\n                                )}\n\n                                {/* Streaming cursor */}\n                                {msg.isStreaming && msg.content && (\n                                    <span className=\"inline-block w-1.5 h-4 bg-[var(--neon-cyan)] animate-pulse ml-0.5 align-text-bottom rounded-sm\" />\n                                )}\n                            </div>\n\n                            {/* Delete button ‚Äî on right-click */}\n                            <AnimatePresence>\n                                {deleteTarget === msg.id && (\n                                    <motion.button\n                                        className=\"absolute -top-2 -right-2 flex h-7 w-7 items-center justify-center rounded-full bg-[var(--neon-pink)] shadow-[0_0_12px_rgba(255,45,120,0.4)] z-10\"\n                                        initial={{ scale: 0 }} animate={{ scale: 1 }} exit={{ scale: 0 }}\n                                        onClick={(e: React.MouseEvent) => handleDelete(e, msg.id)}\n                                    >\n                                        <Trash2 className=\"w-3.5 h-3.5 text-white\" strokeWidth={2} />\n                                    </motion.button>\n                                )}\n                            </AnimatePresence>\n\n                            {/* Timestamp */}\n                            <div className={`text-[10px] text-[var(--color-text-muted)]/50 mt-1 ${msg.role === 'user' ? 'text-right' : 'text-left'}`}>\n                                {new Date(msg.timestamp).toLocaleTimeString('tr-TR', { hour: '2-digit', minute: '2-digit' })}\n                            </div>\n                        </div>\n                    </motion.div>\n                ))}\n\n                {/* Typing indicator */}\n                <AnimatePresence>\n                    {isAgentTyping && (\n                        <motion.div className=\"flex items-start gap-2\" initial={{ opacity: 0, y: 8 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0, y: -8 }}>\n                            <div className=\"flex h-7 w-7 shrink-0 items-center justify-center rounded-full bg-gradient-to-br from-[#6B00FF] to-[#00F0FF] shadow-[0_0_12px_rgba(107,0,255,0.3)] scanline-overlay\">\n                                <Bot className=\"w-3.5 h-3.5 text-white\" strokeWidth={2} />\n                            </div>\n                            <div className=\"rounded-2xl bg-[var(--color-surface-elevated)] border border-[var(--neon-purple)]/10 px-4 py-3 rounded-bl-md\">\n                                <div className=\"flex items-center gap-2\">\n                                    <div className=\"flex gap-1\">\n                                        {[0, 1, 2].map((j) => (\n                                            <div key={j} className=\"h-2 w-2 rounded-full bg-[var(--neon-cyan)]\"\n                                                style={{ animation: `typing-dot 1.2s ease-in-out ${j * 0.2}s infinite` }} />\n                                        ))}\n                                    </div>\n                                    {agentStatus && <span className=\"text-xs text-[var(--neon-cyan)] ml-1 font-retro\">{agentStatus}</span>}\n                                </div>\n                            </div>\n                        </motion.div>\n                    )}\n                </AnimatePresence>\n            </div>\n\n            {/* ‚îÄ‚îÄ Suggestion chips ‚îÄ‚îÄ */}\n            {messages.length > 0 && !isAgentTyping && (\n                <div className=\"flex gap-2 px-4 py-2 overflow-x-auto scrollbar-hide border-t border-[var(--neon-purple)]/5\">\n                    {getSuggestions().map((text) => (\n                        <button key={text} onClick={() => sendMessage(text)}\n                            className=\"shrink-0 rounded-full border border-[var(--neon-purple)]/20 bg-[var(--neon-purple)]/5 px-3 py-1.5 text-[11px] text-[var(--neon-cyan)] active:scale-95 transition-transform\">\n                            {text}\n                        </button>\n                    ))}\n                </div>\n            )}\n\n            {/* ‚îÄ‚îÄ Input bar ‚îÄ‚îÄ */}\n            <div className=\"border-t border-[var(--neon-purple)]/10 p-3 pb-safe glass\">\n                <div className=\"flex items-end gap-2\">\n                    <button className=\"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-[var(--color-surface-elevated)] border border-[var(--neon-purple)]/15 text-[var(--color-text-muted)] transition-all active:scale-90 hover:border-[var(--neon-cyan)]/30 hover:text-[var(--neon-cyan)]\">\n                        <Camera className=\"w-5 h-5 icon-neon\" strokeWidth={1.5} />\n                    </button>\n                    <div className=\"flex-1 rounded-2xl bg-[var(--color-surface-elevated)] border border-[var(--neon-purple)]/15 px-4 py-2.5 focus-within:border-[var(--neon-cyan)]/40 focus-within:shadow-[0_0_16px_rgba(0,240,255,0.1)] transition-all\">\n                        <textarea\n                            value={input}\n                            onChange={(e) => setInput(e.target.value)}\n                            onKeyDown={handleKeyDown}\n                            placeholder=\"Mesaj yazƒ±n veya sesli anlatƒ±n...\"\n                            rows={1}\n                            className=\"w-full resize-none bg-transparent text-sm text-[var(--color-text-primary)] placeholder:text-[var(--color-text-muted)] focus:outline-none\"\n                            style={{ maxHeight: 120 }}\n                        />\n                    </div>\n                    {input.trim() ? (\n                        <motion.button onClick={() => sendMessage()} className=\"flex h-10 w-10 shrink-0 items-center justify-center rounded-full neon-btn text-white\" whileTap={{ scale: 0.9 }}>\n                            <Send className=\"w-4 h-4\" strokeWidth={2} />\n                        </motion.button>\n                    ) : (\n                        <motion.button\n                            onClick={toggleRecording}\n                            className={`flex h-12 w-12 shrink-0 items-center justify-center rounded-full transition-all ${isRecording\n                                ? 'bg-[var(--neon-pink)] animate-pulse shadow-[0_0_24px_rgba(255,45,120,0.5)]'\n                                : 'neon-btn shadow-[0_0_16px_rgba(107,0,255,0.3)]'\n                                }`}\n                            whileTap={{ scale: 0.9 }}\n                        >\n                            {isRecording ? <MicOff className=\"w-5 h-5 text-white\" /> : <Mic className=\"w-6 h-6 text-white icon-neon\" strokeWidth={2} />}\n                        </motion.button>\n                    )}\n                </div>\n            </div>\n\n            {/* Click-away to dismiss delete */}\n            {deleteTarget && (\n                <div className=\"fixed inset-0 z-0\" onClick={() => setDeleteTarget(null)} />\n            )}\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;;AANA;;;;;;AAQA,mCAAmC,GAEnC,eAAe,oBACX,OAAsB,EACtB,OAA+B,EAC/B,MAAkB,EAClB,OAA8B;IAE9B,IAAI;QACA,MAAM,MAAM,MAAM,MAAM,aAAa;YACjC,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBACjB,UAAU,QAAQ,GAAG,CAAC,CAAC,IAAM,CAAC;wBAAE,MAAM,EAAE,IAAI;wBAAE,SAAS,EAAE,OAAO;oBAAC,CAAC;YACtE;QACJ;QAEA,IAAI,CAAC,IAAI,EAAE,EAAE;YACT,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC;oBAAE,OAAO,AAAC,QAAkB,OAAX,IAAI,MAAM;gBAAG,CAAC;YAC1E,QAAQ,KAAK,KAAK,IAAI,AAAC,eAAyB,OAAX,IAAI,MAAM;YAC/C;QACJ;QAEA,IAAI,CAAC,IAAI,IAAI,EAAE;YACX,QAAQ;YACR;QACJ;QAEA,MAAM,SAAS,IAAI,IAAI,CAAC,SAAS;QACjC,MAAM,UAAU,IAAI;QACpB,IAAI,cAAc;QAClB,IAAI,SAAS;QAEb,MAAO,KAAM;YACT,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,OAAO,IAAI;YACzC,IAAI,MAAM;YAEV,UAAU,QAAQ,MAAM,CAAC,OAAO;gBAAE,QAAQ;YAAK;YAC/C,MAAM,QAAQ,OAAO,KAAK,CAAC;YAC3B,SAAS,MAAM,GAAG,MAAM;YAExB,KAAK,MAAM,QAAQ,MAAO;gBACtB,MAAM,UAAU,KAAK,IAAI;gBACzB,IAAI,CAAC,WAAW,CAAC,QAAQ,UAAU,CAAC,WAAW;gBAE/C,MAAM,OAAO,QAAQ,KAAK,CAAC;gBAC3B,IAAI,SAAS,UAAU;gBAEvB,IAAI;oBACA,MAAM,OAAO,KAAK,KAAK,CAAC;oBACxB,IAAI,KAAK,OAAO,EAAE;wBACd,eAAe,KAAK,OAAO;wBAC3B,QAAQ;oBACZ;gBACJ,EAAE,UAAM;gBACJ,wBAAwB;gBAC5B;YACJ;QACJ;QAEA;IACJ,EAAE,OAAO,KAAK;QACV,QAAQ,eAAe,QAAQ,IAAI,OAAO,GAAG;IACjD;AACJ;AAOA,SAAS;IACL;;IACA,8DAA8D;IAC9D,MAAM,IAAI;IACV,MAAM,KAAK,EAAE,iBAAiB,IAAI,EAAE,uBAAuB;IAC3D,IAAI,CAAC,IAAI,OAAO;IAChB,MAAM,cAAc,IAAI;IACxB,YAAY,IAAI,GAAG;IACnB,YAAY,cAAc,GAAG;IAC7B,YAAY,eAAe,GAAG;IAC9B,OAAO;AACX;AAIO,SAAS;;IACZ,MAAM,EACF,QAAQ,EAAE,aAAa,EAAE,WAAW,EACpC,UAAU,EAAE,aAAa,EAAE,aAAa,EAAE,cAAc,EACxD,WAAW,EAAE,gBAAgB,EAAE,sBAAsB,EAAE,cAAc,EACxE,GAAG,IAAA,yLAAO;IACX,MAAM,kBAAkB,IAAA,yLAAO;8CAAC,CAAC,IAAM,EAAE,eAAe;;IACxD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,wOAAQ,EAAC;IACnC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,wOAAQ,EAAC;IAC/C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,wOAAQ,EAAgB;IAChE,MAAM,YAAY,IAAA,sOAAM,EAAiB;IACzC,MAAM,YAAY,IAAA,sOAAM,EAAC;IACzB,MAAM,iBAAiB,IAAA,sOAAM,EAAmC;IAEhE,8BAA8B;IAC9B,IAAA,yOAAS;+BAAC;gBACN;aAAA,qBAAA,UAAU,OAAO,cAAjB,yCAAA,mBAAmB,QAAQ,CAAC;gBAAE,KAAK,UAAU,OAAO,CAAC,YAAY;gBAAE,UAAU;YAAS;QAC1F;8BAAG;QAAC;QAAU;KAAc;IAE5B,MAAM,cAAc,IAAA,2OAAW;8CAAC,OAAO;YACnC,MAAM,OAAO,CAAC,gBAAgB,KAAK,EAAE,IAAI;YACzC,IAAI,CAAC,QAAQ,UAAU,OAAO,EAAE;YAEhC,UAAU,OAAO,GAAG;YACpB,SAAS;YAET,sBAAsB;YACtB,WAAW;gBACP,IAAI,OAAO,UAAU;gBACrB,MAAM;gBACN,SAAS;gBACT,WAAW,IAAI;gBACf,MAAM;YACV;YAEA,2BAA2B;YAC3B,eAAe,MAAM;YAErB,IAAI;gBACA,wBAAwB;gBACxB,MAAM,IAAI;0DAAQ,CAAC,IAAM,WAAW,GAAG;;gBACvC,eAAe,MAAM;gBAErB,sDAAsD;gBACtD,MAAM,iBAAiB;gBAEvB,kCAAkC;gBAClC,MAAM,UAAU,OAAO,UAAU;gBACjC,iBAAiB;oBACb,IAAI;oBACJ,MAAM;oBACN,SAAS;oBACT,WAAW,IAAI;oBACf,MAAM;gBACV;gBAEA,8BAA8B;gBAC9B,MAAM,oBACF;0DACA,CAAC;wBACG,uBAAuB;oBAC3B;;0DACA;wBACI;oBACJ;;0DACA,CAAC;wBACG,4DAA4D;wBAC5D,uBAAuB,AAAC,MAAS,OAAJ;wBAC7B;oBACJ;;YAER,EAAE,UAAM;gBACJ,cAAc;oBACV,IAAI,OAAO,UAAU;oBACrB,MAAM;oBACN,SAAS;oBACT,WAAW,IAAI;oBACf,MAAM;gBACV;YACJ,SAAU;gBACN,UAAU,OAAO,GAAG;YACxB;QACJ;6CAAG;QAAC;QAAO;QAAY;QAAe;QAAgB;QAAa;QAAkB;QAAwB;KAAe;IAE5H,MAAM,gBAAgB,CAAC;QACnB,IAAI,EAAE,GAAG,KAAK,WAAW,CAAC,EAAE,QAAQ,EAAE;YAAE,EAAE,cAAc;YAAI;QAAe;IAC/E;IAEA,6CAA6C,GAC7C,MAAM,kBAAkB,IAAA,2OAAW;kDAAC;YAChC,IAAI,aAAa;oBACb,iBAAiB;gBACjB;iBAAA,0BAAA,eAAe,OAAO,cAAtB,8CAAA,wBAAwB,IAAI;gBAC5B,eAAe;gBACf;YACJ;YAEA,MAAM,cAAc;YACpB,IAAI,CAAC,aAAa;gBACd,cAAc;oBACV,IAAI,OAAO,UAAU;oBACrB,MAAM;oBACN,SAAS;oBACT,WAAW,IAAI;oBACf,MAAM;gBACV;gBACA;YACJ;YAEA,eAAe,OAAO,GAAG;YACzB,eAAe;YAEf,2BAA2B;YAC3B,WAAW;gBACP,IAAI,OAAO,UAAU;gBACrB,MAAM;gBACN,SAAS;gBACT,WAAW,IAAI;gBACf,MAAM;YACV;YAEA,YAAY,QAAQ;0DAAG,CAAC;wBACD,kBAAA;oBAAnB,MAAM,cAAa,kBAAA,MAAM,OAAO,CAAC,EAAE,cAAhB,uCAAA,mBAAA,eAAkB,CAAC,EAAE,cAArB,uCAAA,iBAAuB,UAAU;oBACpD,IAAI,YAAY;wBACZ,eAAe;wBACf,YAAY;oBAChB;gBACJ;;YAEA,YAAY,OAAO;0DAAG;oBAClB,eAAe;oBACf,cAAc;wBACV,IAAI,OAAO,UAAU;wBACrB,MAAM;wBACN,SAAS;wBACT,WAAW,IAAI;wBACf,MAAM;oBACV;gBACJ;;YAEA,YAAY,KAAK;0DAAG;oBAChB,eAAe;gBACnB;;YAEA,YAAY,KAAK;QACrB;iDAAG;QAAC;QAAa;QAAY;QAAe;KAAY;IAExD,MAAM,eAAe,CAAC,GAAqB;QACvC,EAAE,cAAc;QAChB,EAAE,eAAe;QACjB,cAAc;QACd,gBAAgB;IACpB;IAEA,MAAM,eAAe;QACjB;YAAE,MAAM;YAA4B,MAAM,8RAAU;QAAC;QACrD;YAAE,MAAM;YAAgB,MAAM,qSAAW;QAAC;QAC1C;YAAE,MAAM;YAAuB,MAAM,4RAAQ;QAAC;KACjD;IAED,wDAAwD,GACxD,MAAM,iBAAiB;YAGH;QAFhB,IAAI,SAAS,MAAM,KAAK,GAAG,OAAO,EAAE;QACpC,MAAM,YAAY;eAAI;SAAS,CAAC,OAAO,GAAG,IAAI,CAAC,CAAC,IAAM,EAAE,IAAI,KAAK;QACjE,MAAM,UAAU,CAAA,sBAAA,iCAAA,qBAAA,UAAW,OAAO,cAAlB,yCAAA,mBAAoB,WAAW,OAAM;QAErD,aAAa;QACb,IAAI,QAAQ,QAAQ,CAAC,8BAA8B,QAAQ,QAAQ,CAAC,kBAAkB;YAClF,OAAO;gBAAC;gBAAsB;gBAAsB;gBAA0B;aAAkB;QACpG;QACA,IAAI,QAAQ,QAAQ,CAAC,YAAY,QAAQ,QAAQ,CAAC,eAAe,QAAQ,QAAQ,CAAC,WAAW;YACzF,OAAO;gBAAC;gBAAsB;gBAAmB;aAAwB;QAC7E;QACA,eAAe;QACf,IAAI,QAAQ,QAAQ,CAAC,cAAc,QAAQ,QAAQ,CAAC,mBAAmB,QAAQ,QAAQ,CAAC,iBAAiB;YACrG,OAAO;gBAAC;gBAAW;gBAAiB;aAAoB;QAC5D;QACA,SAAS;QACT,IAAI,QAAQ,QAAQ,CAAC,aAAa,QAAQ,QAAQ,CAAC,YAAY;YAC3D,OAAO;gBAAC;gBAAyB;gBAAa;aAAW;QAC7D;QACA,kBAAkB;QAClB,IAAI,QAAQ,QAAQ,CAAC,eAAe,QAAQ,QAAQ,CAAC,SAAS;YAC1D,OAAO;gBAAC;gBAAiB;gBAAW;aAAgB;QACxD;QACA,IAAI,SAAS,MAAM,GAAG,GAAG;YACrB,OAAO;gBAAC;gBAAW;gBAAiB;aAAgB;QACxD;QACA,OAAO;YAAC;YAAc;YAAc;SAAgB;IACxD;IAEA,qBACI,4PAAC;QAAI,WAAU;;0BAEX,4PAAC;gBAAI,WAAU;;kCACX,4PAAC,yOAAI;wBAAC,MAAK;wBAAI,WAAU;kCACrB,cAAA,4PAAC,qSAAW;4BAAC,WAAU;;;;;;;;;;;kCAE3B,4PAAC;wBAAI,WAAU;;0CACX,4PAAC;gCAAI,WAAU;0CACX,cAAA,4PAAC,yQAAG;oCAAC,WAAU;oCAAqB,aAAa;;;;;;;;;;;0CAErD,4PAAC;gCAAI,WAAU;;;;;;;;;;;;kCAEnB,4PAAC;;0CACG,4PAAC;gCAAG,WAAU;;oCAA+E;kDAEzF,4PAAC,wRAAQ;wCAAC,WAAU;;;;;;;;;;;;0CAExB,4PAAC;gCAAE,WAAU;gCAAyB,OAAO;oCAAE,OAAO,gBAAgB,qBAAqB;gCAAoB;0CAC1G,gBAAiB,eAAe,eAAgB;;;;;;;;;;;;oBAGxD,CAAC,iCACE,4PAAC,yOAAI;wBAAC,MAAK;wBAAQ,WAAU;kCAAqK;;;;;;;;;;;;0BAO1M,4PAAC;gBAAI,KAAK;gBAAW,WAAU;;oBAE1B,SAAS,MAAM,KAAK,KAAK,CAAC,+BACvB,4PAAC,sQAAM,CAAC,GAAG;wBAAC,WAAU;wBAAoB,SAAS;4BAAE,SAAS;4BAAG,GAAG;wBAAG;wBAAG,SAAS;4BAAE,SAAS;4BAAG,GAAG;wBAAE;wBAAG,YAAY;4BAAE,UAAU;wBAAI;;0CACjI,4PAAC;gCAAI,WAAU;0CACX,cAAA,4PAAC,wSAAY;oCAAC,WAAU;oCAAmD,aAAa;;;;;;;;;;;0CAE5F,4PAAC;gCAAG,WAAU;0CAA0D;;;;;;0CACxE,4PAAC;gCAAE,WAAU;0CAAmE;;;;;;0CAGhF,4PAAC;gCAAI,WAAU;0CACV,aAAa,GAAG,CAAC,CAAC;oCACf,MAAM,SAAS,GAAG,IAAI;oCACtB,qBACI,4PAAC,sQAAM,CAAC,MAAM;wCAAe,SAAS,IAAM,YAAY,GAAG,IAAI;wCAC3D,WAAU;wCACV,YAAY;4CAAE,OAAO;wCAAK;wCAAG,UAAU;4CAAE,OAAO;wCAAK;;0DACrD,4PAAC;gDAAO,WAAU;gDAAwB,aAAa;;;;;;4CACtD,GAAG,IAAI;;uCAJQ,GAAG,IAAI;;;;;gCAOnC;;;;;;;;;;;;oBAMX,SAAS,GAAG,CAAC,CAAC,oBACX,4PAAC,sQAAM,CAAC,GAAG;4BAEP,WAAW,AAAC,QAA6D,OAAtD,IAAI,IAAI,KAAK,SAAS,gBAAgB,iBAAgB;4BACzE,SAAS;gCAAE,SAAS;gCAAG,GAAG;gCAAI,OAAO;4BAAK;4BAC1C,SAAS;gCAAE,SAAS;gCAAG,GAAG;gCAAG,OAAO;4BAAE;4BACtC,YAAY;gCAAE,UAAU;4BAAI;;gCAG3B,IAAI,IAAI,KAAK,yBACV,4PAAC;oCAAI,WAAU;8CACX,cAAA,4PAAC,yQAAG;wCAAC,WAAU;wCAAyB,aAAa;;;;;;;;;;;8CAI7D,4PAAC;oCAAI,WAAU;;sDAEX,4PAAC;4CACG,WAAW,AAAC,mDAGP,OAHyD,IAAI,IAAI,KAAK,SACrE,gHACA;4CAEN,eAAe,CAAC;gDAA0B,EAAE,cAAc;gDAAI,gBAAgB,IAAI,EAAE;4CAAG;;gDAEtF,IAAI,IAAI,KAAK,wBACV,4PAAC;oDAAI,WAAU;;sEACX,4PAAC;4DAAK,WAAU;sEAAwC;;;;;;sEACxD,4PAAC;4DAAI,WAAU;sEACV,MAAM,IAAI,CAAC;gEAAE,QAAQ;4DAAG,GAAG,GAAG,CAAC,CAAC,GAAG,kBAChC,4PAAC;oEAAY,WAAU;oEAAmB,OAAO;wEAAE,QAAQ,AAAC,GAAyB,OAAvB,IAAI,KAAK,MAAM,KAAK,IAAG;wEAAK,SAAS,MAAM,KAAK,MAAM,KAAK;wEAAK,YAAY;oEAA4C;mEAA5K;;;;;;;;;;;;;;;yEAKtB,4PAAC;oDAAI,WAAU;8DACV,IAAI,OAAO,IAAI,CAAC,IAAI,WAAW,GAAG,MAAM,EAAE;;;;;;gDAKlD,IAAI,WAAW,IAAI,IAAI,OAAO,kBAC3B,4PAAC;oDAAK,WAAU;;;;;;;;;;;;sDAKxB,4PAAC,8QAAe;sDACX,iBAAiB,IAAI,EAAE,kBACpB,4PAAC,sQAAM,CAAC,MAAM;gDACV,WAAU;gDACV,SAAS;oDAAE,OAAO;gDAAE;gDAAG,SAAS;oDAAE,OAAO;gDAAE;gDAAG,MAAM;oDAAE,OAAO;gDAAE;gDAC/D,SAAS,CAAC,IAAwB,aAAa,GAAG,IAAI,EAAE;0DAExD,cAAA,4PAAC,sRAAM;oDAAC,WAAU;oDAAyB,aAAa;;;;;;;;;;;;;;;;sDAMpE,4PAAC;4CAAI,WAAW,AAAC,sDAAsG,OAAjD,IAAI,IAAI,KAAK,SAAS,eAAe;sDACtG,IAAI,KAAK,IAAI,SAAS,EAAE,kBAAkB,CAAC,SAAS;gDAAE,MAAM;gDAAW,QAAQ;4CAAU;;;;;;;;;;;;;2BA1D7F,IAAI,EAAE;;;;;kCAiEnB,4PAAC,8QAAe;kCACX,+BACG,4PAAC,sQAAM,CAAC,GAAG;4BAAC,WAAU;4BAAyB,SAAS;gCAAE,SAAS;gCAAG,GAAG;4BAAE;4BAAG,SAAS;gCAAE,SAAS;gCAAG,GAAG;4BAAE;4BAAG,MAAM;gCAAE,SAAS;gCAAG,GAAG,CAAC;4BAAE;;8CACnI,4PAAC;oCAAI,WAAU;8CACX,cAAA,4PAAC,yQAAG;wCAAC,WAAU;wCAAyB,aAAa;;;;;;;;;;;8CAEzD,4PAAC;oCAAI,WAAU;8CACX,cAAA,4PAAC;wCAAI,WAAU;;0DACX,4PAAC;gDAAI,WAAU;0DACV;oDAAC;oDAAG;oDAAG;iDAAE,CAAC,GAAG,CAAC,CAAC,kBACZ,4PAAC;wDAAY,WAAU;wDACnB,OAAO;4DAAE,WAAW,AAAC,+BAAsC,OAAR,IAAI,KAAI;wDAAY;uDADjE;;;;;;;;;;4CAIjB,6BAAe,4PAAC;gDAAK,WAAU;0DAAmD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;YAS1G,SAAS,MAAM,GAAG,KAAK,CAAC,+BACrB,4PAAC;gBAAI,WAAU;0BACV,iBAAiB,GAAG,CAAC,CAAC,qBACnB,4PAAC;wBAAkB,SAAS,IAAM,YAAY;wBAC1C,WAAU;kCACT;uBAFQ;;;;;;;;;;0BASzB,4PAAC;gBAAI,WAAU;0BACX,cAAA,4PAAC;oBAAI,WAAU;;sCACX,4PAAC;4BAAO,WAAU;sCACd,cAAA,4PAAC,kRAAM;gCAAC,WAAU;gCAAoB,aAAa;;;;;;;;;;;sCAEvD,4PAAC;4BAAI,WAAU;sCACX,cAAA,4PAAC;gCACG,OAAO;gCACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;gCACxC,WAAW;gCACX,aAAY;gCACZ,MAAM;gCACN,WAAU;gCACV,OAAO;oCAAE,WAAW;gCAAI;;;;;;;;;;;wBAG/B,MAAM,IAAI,mBACP,4PAAC,sQAAM,CAAC,MAAM;4BAAC,SAAS,IAAM;4BAAe,WAAU;4BAAuF,UAAU;gCAAE,OAAO;4BAAI;sCACjK,cAAA,4PAAC,4QAAI;gCAAC,WAAU;gCAAU,aAAa;;;;;;;;;;iDAG3C,4PAAC,sQAAM,CAAC,MAAM;4BACV,SAAS;4BACT,WAAW,AAAC,mFAGP,OAHyF,cACxF,+EACA;4BAEN,UAAU;gCAAE,OAAO;4BAAI;sCAEtB,4BAAc,4PAAC,sRAAM;gCAAC,WAAU;;;;;qDAA0B,4PAAC,yQAAG;gCAAC,WAAU;gCAA+B,aAAa;;;;;;;;;;;;;;;;;;;;;;YAOrI,8BACG,4PAAC;gBAAI,WAAU;gBAAoB,SAAS,IAAM,gBAAgB;;;;;;;;;;;;AAIlF;GAxYgB;;QAKR,yLAAO;QACa,yLAAO;;;KANnB","debugId":null}},
    {"offset": {"line": 1158, "column": 0}, "map": {"version":3,"sources":["file:///Users/taha/.gemini/antigravity/scratch/clawpazar/frontend/app/sohbet/page.tsx"],"sourcesContent":["'use client';\n\nimport { AgentChat } from '@/components/AgentChat';\n\nexport default function SohbetPage() {\n    return (\n        <div className=\"fixed inset-0 flex flex-col bg-[var(--color-surface-base)]\">\n            <AgentChat />\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIe,SAAS;IACpB,qBACI,4PAAC;QAAI,WAAU;kBACX,cAAA,4PAAC,uMAAS;;;;;;;;;;AAGtB;KANwB","debugId":null}}]
}